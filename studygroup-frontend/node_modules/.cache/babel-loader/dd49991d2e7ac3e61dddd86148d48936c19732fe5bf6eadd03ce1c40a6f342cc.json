{"ast":null,"code":"import React,{useState,useEffect,createContext,useContext}from\"react\";import{BrowserRouter as Router,Routes,Route,Navigate,Link,useNavigate,useParams}from\"react-router-dom\";import{QueryClient,QueryClientProvider}from\"react-query\";import{Toaster,toast}from\"react-hot-toast\";import StudyApplicants from\"./pages/StudyApplicants\";// Add basic types to fix TypeScript errors\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const queryClient=new QueryClient();const AuthContext=/*#__PURE__*/createContext(undefined);const useAuth=()=>{const context=useContext(AuthContext);if(!context){throw new Error(\"useAuth must be used within an AuthProvider\");}return context;};const AuthProvider=_ref=>{let{children}=_ref;const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);const navigate=useNavigate();useEffect(()=>{const token=localStorage.getItem(\"token\");console.log(\"useEffect - Token found:\",!!token);if(token){console.log(\"useEffect - Calling fetchCurrentUser\");fetchCurrentUser();}else{setLoading(false);}},[]);const fetchCurrentUser=async()=>{try{const token=localStorage.getItem(\"token\");console.log(\"Token from localStorage:\",token);console.log(\"Token type:\",typeof token);console.log(\"Token length:\",token?token.length:0);if(!token){console.log(\"No token found in localStorage\");setLoading(false);return;}const response=await fetch(\"http://localhost:3001/api/user/me\",{headers:{Authorization:`Bearer ${token}`}});console.log(\"User fetch response status:\",response.status);if(response.ok){var _data$data;const data=await response.json();console.log(\"User data received:\",data);console.log(\"Setting user with data.data:\",data.data);console.log(\"data.data.username:\",(_data$data=data.data)===null||_data$data===void 0?void 0:_data$data.username);setUser(data.data);}else{console.log(\"User fetch failed, removing token\");localStorage.removeItem(\"token\");}}catch(error){console.error(\"Failed to fetch user:\",error);localStorage.removeItem(\"token\");}finally{setLoading(false);}};const login=async(email,password)=>{setLoading(true);try{const response=await fetch(\"http://localhost:3001/api/auth/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email,password})});const data=await response.json();console.log(\"Login response:\",data);console.log(\"Response status:\",response.status);console.log(\"Response ok:\",response.ok);console.log(\"Data keys:\",Object.keys(data));if(response.ok){// 응답 구조에 따라 토큰 추출\nconst token=data.token||data.data&&data.data.token;console.log(\"Token received:\",token);console.log(\"Token type:\",typeof token);console.log(\"Token length:\",token?token.length:0);if(!token){console.error(\"No token found in response:\",data);toast.error(\"토큰을 받지 못했습니다.\");return;}localStorage.setItem(\"token\",token);console.log(\"Token stored in localStorage\");// 저장된 토큰 확인\nconst storedToken=localStorage.getItem(\"token\");console.log(\"Stored token verification:\",storedToken);await fetchCurrentUser();toast.success(\"로그인 성공!\");navigate(\"/me\");}else{toast.error(data.message||\"로그인 실패\");}}catch(error){console.error(\"Login error:\",error);toast.error(\"로그인 중 오류가 발생했습니다.\");}finally{setLoading(false);}};const register=async(email,username,password)=>{setLoading(true);try{const response=await fetch(\"http://localhost:3001/api/auth/register\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email,username,password})});const data=await response.json();if(response.ok){toast.success(\"회원가입 성공! 로그인해주세요.\");navigate(\"/login\");}else{toast.error(data.message||\"회원가입 실패\");}}catch(error){toast.error(\"회원가입 중 오류가 발생했습니다.\");}finally{setLoading(false);}};const logout=()=>{localStorage.removeItem(\"token\");setUser(null);toast.success(\"로그아웃되었습니다.\");navigate(\"/login\");};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{user,loading,login,logout,register,fetchCurrentUser},children:children});};// ApplicationForm 컴포넌트\nconst ApplicationForm=_ref2=>{var _questions$,_questions$2;let{questions,onSubmit,onCancel,loading=false}=_ref2;console.log(\"ApplicationForm questions:\",questions);console.log(\"ApplicationForm questions length:\",questions===null||questions===void 0?void 0:questions.length);console.log(\"ApplicationForm questions type:\",typeof questions);console.log(\"First question:\",questions===null||questions===void 0?void 0:questions[0]);console.log(\"First question type:\",questions===null||questions===void 0?void 0:(_questions$=questions[0])===null||_questions$===void 0?void 0:_questions$.type);console.log(\"First question question:\",questions===null||questions===void 0?void 0:(_questions$2=questions[0])===null||_questions$2===void 0?void 0:_questions$2.question);if(!questions||questions.length===0){return/*#__PURE__*/_jsx(\"div\",{children:\"\\uC9C8\\uBB38\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"});}const handleSubmit=async values=>{console.log(\"handleSubmit called with values:\",values);try{// values는 이미 검증된 폼 데이터입니다\nconsole.log(\"Form values:\",values);console.log(\"Form values type:\",typeof values);console.log(\"Form values keys:\",Object.keys(values));console.log(\"Form values length:\",Object.keys(values).length);console.log(\"Calling onSubmit with values:\",values);onSubmit(values);}catch(error){console.error(\"Form submission error:\",error);toast.error(\"폼 제출 중 오류가 발생했습니다.\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"\\uC2A4\\uD130\\uB514 \\uC9C0\\uC6D0\\uC11C\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:e=>{e.preventDefault();const formData=new FormData(e.target);const values={};for(let[key,value]of formData.entries()){values[key]=value;}handleSubmit(values);},children:[questions.map((question,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[question.questionText||question.question,question.required&&/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\" *\"})]}),(question.type===\"text\"||question.type===\"short_answer\")&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:`question_${index}`,required:question.required,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500\",placeholder:\"\\uB2F5\\uBCC0\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"}),question.type===\"textarea\"&&/*#__PURE__*/_jsx(\"textarea\",{name:`question_${index}`,required:question.required,rows:4,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500\",placeholder:\"\\uB2F5\\uBCC0\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"}),question.type===\"radio\"&&question.options&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:question.options.map((option,optionIndex)=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:`question_${index}`,value:option,required:question.required,className:\"mr-2\"}),option]},optionIndex))}),question.type===\"checkbox\"&&question.options&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:question.options.map((option,optionIndex)=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:`question_${index}`,value:option,className:\"mr-2\"}),option]},optionIndex))})]},index)),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onCancel,className:\"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50\",children:\"\\uCDE8\\uC18C\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,onClick:()=>console.log(\"Submit button clicked\"),className:\"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50\",children:loading?\"처리 중...\":\"지원하기\"})]})]})]})});};const LoginForm=()=>{const{login,loading}=useAuth();const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const handleSubmit=async e=>{e.preventDefault();await login(email,password);};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mt-6 text-center text-3xl font-extrabold text-gray-900\",children:\"StudyGroup\\uC5D0 \\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2 text-center text-sm text-gray-600\",children:[\"\\uB610\\uB294\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"font-medium text-indigo-600 hover:text-indigo-500\",children:\"\\uC0C8 \\uACC4\\uC815 \\uB9CC\\uB4E4\\uAE30\"})]})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-8 space-y-6\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-md shadow-sm -space-y-px\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",required:true,className:\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\",placeholder:\"\\uC774\\uBA54\\uC77C \\uC8FC\\uC18C\",value:email,onChange:e=>setEmail(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,className:\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",value:password,onChange:e=>setPassword(e.target.value)})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50\",children:loading?\"로그인 중...\":\"로그인\"})]})]})});};const RegisterForm=()=>{const{register,loading}=useAuth();const[formData,setFormData]=useState({email:\"\",username:\"\",password:\"\",confirmPassword:\"\"});const[errors,setErrors]=useState({});const validateForm=()=>{const newErrors={};if(!formData.email)newErrors.email=\"이메일을 입력해주세요.\";if(!formData.username)newErrors.username=\"사용자명을 입력해주세요.\";if(!formData.password)newErrors.password=\"비밀번호를 입력해주세요.\";if(formData.password!==formData.confirmPassword){newErrors.confirmPassword=\"비밀번호가 일치하지 않습니다.\";}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm())return;await register(formData.email,formData.username,formData.password);};const handleChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});if(errors[name])setErrors({...errors,[name]:\"\"});};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mt-6 text-center text-3xl font-extrabold text-gray-900\",children:\"StudyGroup \\uD68C\\uC6D0\\uAC00\\uC785\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2 text-center text-sm text-gray-600\",children:[\"\\uB610\\uB294\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"font-medium text-indigo-600 hover:text-indigo-500\",children:\"\\uAE30\\uC874 \\uACC4\\uC815\\uC73C\\uB85C \\uB85C\\uADF8\\uC778\"})]})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-8 space-y-6\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium text-gray-700\",children:\"\\uC774\\uBA54\\uC77C \\uC8FC\\uC18C\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",name:\"email\",type:\"email\",required:true,className:`mt-1 block w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${errors.email?\"border-red-500\":\"border-gray-300\"}`,value:formData.email,onChange:handleChange}),errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"block text-sm font-medium text-gray-700\",children:\"\\uC0AC\\uC6A9\\uC790\\uBA85\"}),/*#__PURE__*/_jsx(\"input\",{id:\"username\",name:\"username\",type:\"text\",required:true,className:`mt-1 block w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${errors.username?\"border-red-500\":\"border-gray-300\"}`,value:formData.username,onChange:handleChange}),errors.username&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.username})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium text-gray-700\",children:\"\\uBE44\\uBC00\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",name:\"password\",type:\"password\",required:true,className:`mt-1 block w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${errors.password?\"border-red-500\":\"border-gray-300\"}`,value:formData.password,onChange:handleChange}),errors.password&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.password})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",className:\"block text-sm font-medium text-gray-700\",children:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\"}),/*#__PURE__*/_jsx(\"input\",{id:\"confirmPassword\",name:\"confirmPassword\",type:\"password\",required:true,className:`mt-1 block w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${errors.confirmPassword?\"border-red-500\":\"border-gray-300\"}`,value:formData.confirmPassword,onChange:handleChange}),errors.confirmPassword&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.confirmPassword})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50\",children:loading?\"회원가입 중...\":\"회원가입\"})]})]})});};const UserProfile=()=>{var _user$username;const{user}=useAuth();return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white overflow-hidden shadow rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-16 w-16 bg-indigo-600 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-xl font-bold\",children:user===null||user===void 0?void 0:(_user$username=user.username)===null||_user$username===void 0?void 0:_user$username.charAt(0).toUpperCase()})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:user===null||user===void 0?void 0:user.username}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:user===null||user===void 0?void 0:user.email})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-200 pt-6\",children:/*#__PURE__*/_jsxs(\"dl\",{className:\"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500\",children:\"\\uC0AC\\uC6A9\\uC790\\uBA85\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"mt-1 text-sm text-gray-900\",children:user===null||user===void 0?void 0:user.username})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500\",children:\"\\uC774\\uBA54\\uC77C\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"mt-1 text-sm text-gray-900\",children:user===null||user===void 0?void 0:user.email})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500\",children:\"\\uC5ED\\uD560\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"mt-1 text-sm text-gray-900\",children:(user===null||user===void 0?void 0:user.role)||\"일반 사용자\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500\",children:\"\\uAC00\\uC785 \\uBC29\\uC2DD\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"mt-1 text-sm text-gray-900\",children:(user===null||user===void 0?void 0:user.provider)||\"이메일\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\",children:\"\\uD504\\uB85C\\uD544 \\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700\",children:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uBCC0\\uACBD\"})]})]})})})});};const CreateStudy=()=>{const{user}=useAuth();const navigate=useNavigate();const[loading,setLoading]=useState(false);const[formData,setFormData]=useState({title:\"\",description:\"\",category:\"\",mode:\"\",location:\"\",recruitNumber:1,studyStartDate:\"\",studyEndDate:\"\"});const[errors,setErrors]=useState({});// Request form state\nconst[showRequestForm,setShowRequestForm]=useState(false);const[requestFormData,setRequestFormData]=useState({title:\"스터디 지원 양식\",questions:[]});const[requestFormErrors,setRequestFormErrors]=useState({});const validateForm=()=>{const newErrors={};if(!formData.title.trim())newErrors.title=\"스터디 제목을 입력해주세요.\";if(!formData.description.trim())newErrors.description=\"스터디 내용을 입력해주세요.\";if(!formData.category)newErrors.category=\"스터디 분류를 선택해주세요.\";if(!formData.mode)newErrors.mode=\"스터디 모드를 선택해주세요.\";if(formData.recruitNumber<1)newErrors.recruitNumber=\"모집 인원은 1명 이상이어야 합니다.\";if(formData.studyStartDate&&formData.studyEndDate&&new Date(formData.studyStartDate)>new Date(formData.studyEndDate)){newErrors.studyEndDate=\"종료일은 시작일보다 늦어야 합니다.\";}setErrors(newErrors);return Object.keys(newErrors).length===0;};const validateRequestForm=()=>{const newErrors={};if(!requestFormData.title.trim())newErrors.title=\"양식 제목을 입력해주세요.\";if(requestFormData.questions.length===0)newErrors.questions=\"최소 하나의 질문을 추가해주세요.\";// Validate each question\nrequestFormData.questions.forEach((question,index)=>{if(!question.questionText.trim()){newErrors[`question_${index}`]=\"질문 내용을 입력해주세요.\";}// 체크박스나 객관식 선택형인 경우 옵션이 필요\nif((question.type===\"checkbox\"||question.type===\"multiple_choice\")&&(!question.options||question.options.length===0)){newErrors[`question_${index}_options`]=`${question.type===\"checkbox\"?\"체크박스\":\"객관식\"} 옵션을 최소 하나 추가해주세요.`;}// 옵션이 있는 경우 빈 옵션이 있는지 확인\nif(question.options&&question.options.length>0){const emptyOptions=question.options.filter(option=>!option.trim());if(emptyOptions.length>0){newErrors[`question_${index}_options`]=\"빈 옵션이 있습니다. 모든 옵션을 입력해주세요.\";}}});setRequestFormErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm())return;// Validate request form if it's enabled\nif(showRequestForm&&!validateRequestForm())return;setLoading(true);try{// First, create the study\nconst studyResponse=await fetch(\"http://localhost:3001/api/post\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:`Bearer ${localStorage.getItem(\"token\")}`},body:JSON.stringify({...formData,recruitNumber:parseInt(formData.recruitNumber),studyStartDate:formData.studyStartDate||null,studyEndDate:formData.studyEndDate||null})});const studyData=await studyResponse.json();if(studyResponse.ok){// If request form is enabled, create it\nif(showRequestForm&&requestFormData.questions.length>0){// Post가 완전히 저장될 때까지 잠시 대기\nawait new Promise(resolve=>setTimeout(resolve,1000));try{const formResponse=await fetch(\"http://localhost:3001/api/requestform\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:`Bearer ${localStorage.getItem(\"token\")}`},body:JSON.stringify({postId:studyData.data.id,title:requestFormData.title,questions:requestFormData.questions.map((q,index)=>({questionText:q.questionText,type:q.type,isRequired:q.isRequired,order:index+1,options:q.options||[]}))})});if(formResponse.ok){toast.success(\"스터디와 지원 양식이 성공적으로 생성되었습니다!\");}else{toast.success(\"스터디가 생성되었지만 지원 양식 생성에 실패했습니다.\");}}catch(formError){console.error(\"Create request form error:\",formError);toast.success(\"스터디가 생성되었지만 지원 양식 생성에 실패했습니다.\");}}else{toast.success(\"스터디가 성공적으로 생성되었습니다!\");}navigate(\"/studies\");}else{toast.error(studyData.message||\"스터디 생성에 실패했습니다.\");}}catch(error){console.error(\"Create study error:\",error);toast.error(\"스터디 생성 중 오류가 발생했습니다.\");}finally{setLoading(false);}};const handleChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});if(errors[name])setErrors({...errors,[name]:\"\"});};// Request form helper functions\nconst addQuestion=()=>{setRequestFormData({...requestFormData,questions:[...requestFormData.questions,{questionText:\"\",type:\"short_answer\",isRequired:true,options:[]}]});};const removeQuestion=index=>{const newQuestions=requestFormData.questions.filter((_,i)=>i!==index);setRequestFormData({...requestFormData,questions:newQuestions});};const updateQuestion=(index,field,value)=>{const newQuestions=[...requestFormData.questions];newQuestions[index]={...newQuestions[index],[field]:value};setRequestFormData({...requestFormData,questions:newQuestions});};const handleRequestFormChange=e=>{const{name,value}=e.target;setRequestFormData({...requestFormData,[name]:value});if(requestFormErrors[name])setRequestFormErrors({...requestFormErrors,[name]:\"\"});};const addOption=questionIndex=>{const newQuestions=[...requestFormData.questions];if(!newQuestions[questionIndex].options){newQuestions[questionIndex].options=[];}newQuestions[questionIndex].options.push(\"\");setRequestFormData({...requestFormData,questions:newQuestions});};const removeOption=(questionIndex,optionIndex)=>{const newQuestions=[...requestFormData.questions];newQuestions[questionIndex].options.splice(optionIndex,1);setRequestFormData({...requestFormData,questions:newQuestions});};const updateOption=(questionIndex,optionIndex,value)=>{const newQuestions=[...requestFormData.questions];newQuestions[questionIndex].options[optionIndex]=value;setRequestFormData({...requestFormData,questions:newQuestions});};return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-8\",children:\"\\uC0C8 \\uC2A4\\uD130\\uB514 \\uB9CC\\uB4E4\\uAE30\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-6 sm:grid-cols-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sm:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"block text-sm font-medium text-gray-700\",children:\"\\uC2A4\\uD130\\uB514 \\uC81C\\uBAA9 *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",required:true,className:`mt-1 block w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${errors.title?\"border-red-500\":\"border-gray-300\"}`,value:formData.title,onChange:handleChange,placeholder:\"\\uC2A4\\uD130\\uB514 \\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"}),errors.title&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.title})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sm:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"block text-sm font-medium text-gray-700\",children:\"\\uC2A4\\uD130\\uB514 \\uB0B4\\uC6A9 *\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",name:\"description\",rows:4,required:true,className:`mt-1 block w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${errors.description?\"border-red-500\":\"border-gray-300\"}`,value:formData.description,onChange:handleChange,placeholder:\"\\uC2A4\\uD130\\uB514\\uC5D0 \\uB300\\uD55C \\uC790\\uC138\\uD55C \\uC124\\uBA85\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"}),errors.description&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.description})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",className:\"block text-sm font-medium text-gray-700\",children:\"\\uC2A4\\uD130\\uB514 \\uBD84\\uB958 *\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"category\",name:\"category\",required:true,className:`mt-1 block w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${errors.category?\"border-red-500\":\"border-gray-300\"}`,value:formData.category,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\uBD84\\uB958\\uB97C \\uC120\\uD0DD\\uD558\\uC138\\uC694\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uD504\\uB85C\\uADF8\\uB798\\uBC0D\",children:\"\\uD504\\uB85C\\uADF8\\uB798\\uBC0D\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uC5B8\\uC5B4\",children:\"\\uC5B8\\uC5B4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uC790\\uACA9\\uC99D\",children:\"\\uC790\\uACA9\\uC99D\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uCDE8\\uC5C5\\uC900\\uBE44\",children:\"\\uCDE8\\uC5C5\\uC900\\uBE44\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uAE30\\uD0C0\",children:\"\\uAE30\\uD0C0\"})]}),errors.category&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.category})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"mode\",className:\"block text-sm font-medium text-gray-700\",children:\"\\uC2A4\\uD130\\uB514 \\uBAA8\\uB4DC *\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"mode\",name:\"mode\",required:true,className:`mt-1 block w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${errors.mode?\"border-red-500\":\"border-gray-300\"}`,value:formData.mode,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\uBAA8\\uB4DC\\uB97C \\uC120\\uD0DD\\uD558\\uC138\\uC694\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uC628\\uB77C\\uC778\",children:\"\\uC628\\uB77C\\uC778\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uC624\\uD504\\uB77C\\uC778\",children:\"\\uC624\\uD504\\uB77C\\uC778\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uD558\\uC774\\uBE0C\\uB9AC\\uB4DC\",children:\"\\uD558\\uC774\\uBE0C\\uB9AC\\uB4DC\"})]}),errors.mode&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.mode})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"location\",className:\"block text-sm font-medium text-gray-700\",children:\"\\uC2A4\\uD130\\uB514 \\uC704\\uCE58\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"location\",name:\"location\",className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",value:formData.location,onChange:handleChange,placeholder:\"\\uC2A4\\uD130\\uB514 \\uC7A5\\uC18C (\\uC120\\uD0DD\\uC0AC\\uD56D)\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"recruitNumber\",className:\"block text-sm font-medium text-gray-700\",children:\"\\uBAA8\\uC9D1 \\uC778\\uC6D0 *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"recruitNumber\",name:\"recruitNumber\",min:\"1\",max:\"50\",required:true,className:`mt-1 block w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${errors.recruitNumber?\"border-red-500\":\"border-gray-300\"}`,value:formData.recruitNumber,onChange:handleChange}),errors.recruitNumber&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.recruitNumber})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"studyStartDate\",className:\"block text-sm font-medium text-gray-700\",children:\"\\uC2A4\\uD130\\uB514 \\uC2DC\\uC791\\uC77C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"studyStartDate\",name:\"studyStartDate\",className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",value:formData.studyStartDate,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"studyEndDate\",className:\"block text-sm font-medium text-gray-700\",children:\"\\uC2A4\\uD130\\uB514 \\uC885\\uB8CC\\uC77C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"studyEndDate\",name:\"studyEndDate\",className:`mt-1 block w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${errors.studyEndDate?\"border-red-500\":\"border-gray-300\"}`,value:formData.studyEndDate,onChange:handleChange}),errors.studyEndDate&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.studyEndDate})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"\\uC9C0\\uC6D0 \\uC591\\uC2DD \\uC124\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowRequestForm(!showRequestForm),className:\"text-sm text-indigo-600 hover:text-indigo-500\",children:showRequestForm?\"양식 숨기기\":\"양식 추가하기\"})]}),showRequestForm&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"formTitle\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"\\uC591\\uC2DD \\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"formTitle\",name:\"title\",className:`block w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${requestFormErrors.title?\"border-red-500\":\"border-gray-300\"}`,value:requestFormData.title,onChange:handleRequestFormChange,placeholder:\"\\uC9C0\\uC6D0 \\uC591\\uC2DD \\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"}),requestFormErrors.title&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:requestFormErrors.title})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"\\uC9C8\\uBB38 \\uBAA9\\uB85D\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:addQuestion,className:\"text-sm bg-indigo-600 text-white px-3 py-1 rounded hover:bg-indigo-700\",children:\"\\uC9C8\\uBB38 \\uCD94\\uAC00\"})]}),requestFormErrors.questions&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-600 mb-2\",children:requestFormErrors.questions}),requestFormData.questions.map((question,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded border mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-gray-700\",children:[\"\\uC9C8\\uBB38 \",index+1]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeQuestion(index),className:\"text-red-600 hover:text-red-800 text-sm\",children:\"\\uC0AD\\uC81C\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm text-gray-600 mb-1\",children:\"\\uC9C8\\uBB38 \\uB0B4\\uC6A9\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:`block w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${requestFormErrors[`question_${index}`]?\"border-red-500\":\"border-gray-300\"}`,value:question.questionText,onChange:e=>updateQuestion(index,\"questionText\",e.target.value),placeholder:\"\\uC9C8\\uBB38\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"}),requestFormErrors[`question_${index}`]&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:requestFormErrors[`question_${index}`]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm text-gray-600 mb-1\",children:\"\\uB2F5\\uBCC0 \\uC720\\uD615\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",value:question.type,onChange:e=>updateQuestion(index,\"type\",e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"short_answer\",children:\"\\uB2E8\\uB2F5\\uD615\"}),/*#__PURE__*/_jsx(\"option\",{value:\"long_answer\",children:\"\\uC7A5\\uBB38\\uD615\"}),/*#__PURE__*/_jsx(\"option\",{value:\"checkbox\",children:\"\\uCCB4\\uD06C\\uBC15\\uC2A4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"multiple_choice\",children:\"\\uAC1D\\uAD00\\uC2DD \\uC120\\uD0DD\\uD615\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:`required_${index}`,className:\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\",checked:question.isRequired,onChange:e=>updateQuestion(index,\"isRequired\",e.target.checked)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:`required_${index}`,className:\"ml-2 block text-sm text-gray-700\",children:\"\\uD544\\uC218 \\uB2F5\\uBCC0\"})]})]}),(question.type===\"checkbox\"||question.type===\"multiple_choice\")&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"\\uC120\\uD0DD \\uC635\\uC158\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>addOption(index),className:\"text-sm bg-green-600 text-white px-2 py-1 rounded hover:bg-green-700\",children:\"\\uC635\\uC158 \\uCD94\\uAC00\"})]}),(!question.options||question.options.length===0)&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mb-2\",children:[question.type===\"checkbox\"?\"체크박스\":\"객관식\",\" \",\"\\uC635\\uC158\\uC744 \\uCD94\\uAC00\\uD574\\uC8FC\\uC138\\uC694.\"]}),question.options&&question.options.map((option,optionIndex)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",value:option,onChange:e=>updateOption(index,optionIndex,e.target.value),placeholder:`옵션 ${optionIndex+1}`}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeOption(index,optionIndex),className:\"text-red-600 hover:text-red-800 text-sm px-2 py-1\",children:\"\\uC0AD\\uC81C\"})]},optionIndex)),requestFormErrors[`question_${index}_options`]&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:requestFormErrors[`question_${index}_options`]})]})]})]},index))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-4 pt-6\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>navigate(\"/studies\"),className:\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",children:\"\\uCDE8\\uC18C\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50\",children:loading?\"생성 중...\":\"스터디 생성\"})]})]})]})})})});};const Header=()=>{const{user,logout}=useAuth();return/*#__PURE__*/_jsx(\"header\",{className:\"bg-white shadow\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between h-16\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-8\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-xl font-bold text-gray-900\",children:\"StudyGroup\"}),/*#__PURE__*/_jsxs(\"nav\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium\",children:\"\\uD648\"}),/*#__PURE__*/_jsx(Link,{to:\"/studies\",className:\"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium\",children:\"\\uC2A4\\uD130\\uB514 \\uBAA9\\uB85D\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/me\",className:\"text-gray-700 hover:text-indigo-600 font-medium\",children:[\"\\uC548\\uB155\\uD558\\uC138\\uC694, \",(user===null||user===void 0?void 0:user.username)||\"사용자\",\"\\uB2D8!\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700\",children:\"\\uB85C\\uADF8\\uC544\\uC6C3\"})]})]})})});};const Home=()=>{var _myStudies$data,_myApplications$data,_myMemberStudies$data,_myLeaderStudies$data;const{user}=useAuth();const navigate=useNavigate();const[myStudies,setMyStudies]=useState([]);const[myApplications,setMyApplications]=useState([]);const[myMemberships,setMyMemberships]=useState([]);const[myMemberStudies,setMyMemberStudies]=useState([]);const[myLeaderStudies,setMyLeaderStudies]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{if(user){fetchUserStudies();}},[user]);const fetchUserStudies=async()=>{try{setLoading(true);const token=localStorage.getItem(\"token\");// 내가 만든 스터디 (post에서 author가 나인 것들)\nconst myStudiesResponse=await fetch(\"http://localhost:3001/api/post/user/my-studies\",{headers:{Authorization:`Bearer ${token}`}});if(myStudiesResponse.ok){const myStudiesData=await myStudiesResponse.json();console.log(\"My studies data:\",myStudiesData);setMyStudies(myStudiesData);}// 내가 지원한 스터디\nconst applicationsResponse=await fetch(\"http://localhost:3001/api/post/applications\",{headers:{Authorization:`Bearer ${token}`}});if(applicationsResponse.ok){const applicationsData=await applicationsResponse.json();console.log(\"Applications data:\",applicationsData);setMyApplications(applicationsData);}// 내가 멤버로 있는 스터디 (memberships)\nconst membershipsResponse=await fetch(\"http://localhost:3001/api/post/memberships\",{headers:{Authorization:`Bearer ${token}`}});if(membershipsResponse.ok){const membershipsData=await membershipsResponse.json();console.log(\"Memberships data:\",membershipsData);setMyMemberships(membershipsData);}// 내가 멤버로 참여하는 운영스터디 (member-studies)\nconst memberStudiesResponse=await fetch(\"http://localhost:3001/api/post/member-studies\",{headers:{Authorization:`Bearer ${token}`}});if(memberStudiesResponse.ok){const memberStudiesData=await memberStudiesResponse.json();console.log(\"Member studies data:\",memberStudiesData);setMyMemberStudies(memberStudiesData);}// 내가 리더로 있는 스터디\nconst leaderStudiesResponse=await fetch(\"http://localhost:3001/api/post/leader-studies\",{headers:{Authorization:`Bearer ${token}`}});if(leaderStudiesResponse.ok){const leaderStudiesData=await leaderStudiesResponse.json();console.log(\"Leader studies data:\",leaderStudiesData);setMyLeaderStudies(leaderStudiesData);}}catch(error){console.error(\"Failed to fetch user studies:\",error);}finally{setLoading(false);}};const formatDate=dateString=>{if(!dateString)return\"미정\";return new Date(dateString).toLocaleDateString(\"ko-KR\");};const getStatusBadge=study=>{if(study!==null&&study!==void 0&&study.isClosed){return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\",children:\"\\uBAA8\\uC9D1 \\uC644\\uB8CC\"});}if((study===null||study===void 0?void 0:study.currentNumber)>=(study===null||study===void 0?void 0:study.recruitNumber)){return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\",children:\"\\uC778\\uC6D0 \\uB9C8\\uAC10\"});}return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\",children:\"\\uBAA8\\uC9D1 \\uC911\"});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"})})})});}// user가 null인 경우 로딩 상태 표시\nif(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"})})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-6 sm:px-0\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-8\",children:\"StudyGroup\\uC5D0 \\uC624\\uC2E0 \\uAC83\\uC744 \\uD658\\uC601\\uD569\\uB2C8\\uB2E4!\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg text-gray-600 mb-8\",children:[\"\\uC548\\uB155\\uD558\\uC138\\uC694, \",user.username,\"\\uB2D8!\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow\",onClick:()=>navigate(\"/my-studies\"),children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bg-blue-100 text-blue-800 p-2 rounded-full mr-3\",children:\"\\uD83D\\uDC51\"}),\"\\uB0B4\\uAC00 \\uB9CC\\uB4E0 \\uC2A4\\uD130\\uB514 (\",Array.isArray(myStudies===null||myStudies===void 0?void 0:(_myStudies$data=myStudies.data)===null||_myStudies$data===void 0?void 0:_myStudies$data.data)?myStudies.data.data.length:0,\")\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:\"\\uD074\\uB9AD\\uD558\\uC5EC \\uC790\\uC138\\uD788 \\uBCF4\\uAE30\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow\",onClick:()=>navigate(\"/my-applications\"),children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bg-yellow-100 text-yellow-800 p-2 rounded-full mr-3\",children:\"\\uD83D\\uDCDD\"}),\"\\uB0B4\\uAC00 \\uC9C0\\uC6D0\\uD55C \\uC2A4\\uD130\\uB514 (\",Array.isArray(myApplications===null||myApplications===void 0?void 0:(_myApplications$data=myApplications.data)===null||_myApplications$data===void 0?void 0:_myApplications$data.data)?myApplications.data.data.length:0,\")\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:\"\\uD074\\uB9AD\\uD558\\uC5EC \\uC790\\uC138\\uD788 \\uBCF4\\uAE30\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow\",onClick:()=>navigate(\"/my-member-studies\"),children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bg-green-100 text-green-800 p-2 rounded-full mr-3\",children:\"\\uD83D\\uDC65\"}),\"\\uB0B4\\uAC00 \\uBA64\\uBC84\\uB85C \\uCC38\\uC5EC\\uD558\\uB294 \\uC6B4\\uC601\\uC2A4\\uD130\\uB514 (\",Array.isArray(myMemberStudies===null||myMemberStudies===void 0?void 0:(_myMemberStudies$data=myMemberStudies.data)===null||_myMemberStudies$data===void 0?void 0:_myMemberStudies$data.data)?myMemberStudies.data.data.length:0,\")\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:\"\\uD074\\uB9AD\\uD558\\uC5EC \\uC790\\uC138\\uD788 \\uBCF4\\uAE30\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow\",onClick:()=>navigate(\"/my-leader-studies\"),children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bg-purple-100 text-purple-800 p-2 rounded-full mr-3\",children:\"\\uD83C\\uDFAF\"}),\"\\uB0B4\\uAC00 \\uB9AC\\uB354\\uB85C \\uCC38\\uC5EC\\uD558\\uB294 \\uC6B4\\uC601\\uC2A4\\uD130\\uB514 (\",Array.isArray(myLeaderStudies===null||myLeaderStudies===void 0?void 0:(_myLeaderStudies$data=myLeaderStudies.data)===null||_myLeaderStudies$data===void 0?void 0:_myLeaderStudies$data.data)?myLeaderStudies.data.data.length:0,\")\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:\"\\uD074\\uB9AD\\uD558\\uC5EC \\uC790\\uC138\\uD788 \\uBCF4\\uAE30\"})]})]})]})});};const StudyList=()=>{const{user}=useAuth();const navigate=useNavigate();const[studies,setStudies]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[searchTerm,setSearchTerm]=useState(\"\");const[selectedCategory,setSelectedCategory]=useState(\"\");const[selectedMode,setSelectedMode]=useState(\"\");const[selectedStatus,setSelectedStatus]=useState(\"\");const[selectedLocation,setSelectedLocation]=useState(\"\");const[minMembers,setMinMembers]=useState(\"\");const[maxMembers,setMaxMembers]=useState(\"\");const[showAdvancedFilters,setShowAdvancedFilters]=useState(false);const[searchHistory,setSearchHistory]=useState([]);const[showSearchHistory,setShowSearchHistory]=useState(false);const[debouncedSearchTerm,setDebouncedSearchTerm]=useState(\"\");const[sortBy,setSortBy]=useState(\"createdAt\");const[sortOrder,setSortOrder]=useState(\"desc\");const[savedSearches,setSavedSearches]=useState([]);const[showSavedSearches,setShowSavedSearches]=useState(false);useEffect(()=>{fetchStudies();// Load search history from localStorage\nconst savedHistory=localStorage.getItem(\"studySearchHistory\");if(savedHistory){setSearchHistory(JSON.parse(savedHistory));}// Load search preferences from localStorage\nconst savedPreferences=localStorage.getItem(\"studySearchPreferences\");if(savedPreferences){const preferences=JSON.parse(savedPreferences);setSelectedCategory(preferences.category||\"\");setSelectedMode(preferences.mode||\"\");setSelectedStatus(preferences.status||\"\");setSortBy(preferences.sortBy||\"createdAt\");setSortOrder(preferences.sortOrder||\"desc\");}// Load saved searches from localStorage\nconst savedSearchesData=localStorage.getItem(\"savedSearches\");if(savedSearchesData){setSavedSearches(JSON.parse(savedSearchesData));}},[]);// Debounce search term\nuseEffect(()=>{const timer=setTimeout(()=>{setDebouncedSearchTerm(searchTerm);},300);return()=>clearTimeout(timer);},[searchTerm]);const saveSearchHistory=term=>{if(!term.trim())return;const newHistory=[term,...searchHistory.filter(item=>item!==term)].slice(0,10);setSearchHistory(newHistory);localStorage.setItem(\"studySearchHistory\",JSON.stringify(newHistory));};const clearSearchHistory=()=>{setSearchHistory([]);localStorage.removeItem(\"studySearchHistory\");};const saveSearchPreferences=()=>{const preferences={category:selectedCategory,mode:selectedMode,status:selectedStatus,sortBy,sortOrder};localStorage.setItem(\"studySearchPreferences\",JSON.stringify(preferences));};// Save preferences when they change\nuseEffect(()=>{saveSearchPreferences();},[selectedCategory,selectedMode,selectedStatus,sortBy,sortOrder]);const saveCurrentSearch=()=>{const searchName=prompt(\"검색 조건의 이름을 입력하세요:\");if(!searchName)return;const currentSearch={id:Date.now(),name:searchName,searchTerm,category:selectedCategory,mode:selectedMode,status:selectedStatus,location:selectedLocation,minMembers,maxMembers,sortBy,sortOrder,createdAt:new Date().toISOString()};const newSavedSearches=[currentSearch,...savedSearches.filter(s=>s.name!==searchName)].slice(0,5);setSavedSearches(newSavedSearches);localStorage.setItem(\"savedSearches\",JSON.stringify(newSavedSearches));};const loadSavedSearch=savedSearch=>{setSearchTerm(savedSearch.searchTerm||\"\");setSelectedCategory(savedSearch.category||\"\");setSelectedMode(savedSearch.mode||\"\");setSelectedStatus(savedSearch.status||\"\");setSelectedLocation(savedSearch.location||\"\");setMinMembers(savedSearch.minMembers||\"\");setMaxMembers(savedSearch.maxMembers||\"\");setSortBy(savedSearch.sortBy||\"createdAt\");setSortOrder(savedSearch.sortOrder||\"desc\");setShowSavedSearches(false);};const deleteSavedSearch=searchId=>{const newSavedSearches=savedSearches.filter(s=>s.id!==searchId);setSavedSearches(newSavedSearches);localStorage.setItem(\"savedSearches\",JSON.stringify(newSavedSearches));};const fetchStudies=async()=>{try{setLoading(true);const response=await fetch(\"http://localhost:3001/api/post\",{headers:{Authorization:`Bearer ${localStorage.getItem(\"token\")}`}});if(response.ok){const data=await response.json();setStudies(data.data||[]);}else{setError(\"스터디 목록을 불러오는데 실패했습니다.\");}}catch(error){console.error(\"Fetch studies error:\",error);setError(\"스터디 목록을 불러오는 중 오류가 발생했습니다.\");}finally{setLoading(false);}};const filteredStudies=studies.filter(study=>{var _study$author;const matchesSearch=!debouncedSearchTerm||study.title.toLowerCase().includes(debouncedSearchTerm.toLowerCase())||study.description.toLowerCase().includes(debouncedSearchTerm.toLowerCase())||((_study$author=study.author)===null||_study$author===void 0?void 0:_study$author.username)&&study.author.username.toLowerCase().includes(debouncedSearchTerm.toLowerCase());const matchesCategory=!selectedCategory||study.category===selectedCategory;const matchesMode=!selectedMode||study.mode===selectedMode;const matchesLocation=!selectedLocation||study.location&&study.location.toLowerCase().includes(selectedLocation.toLowerCase());// Status filtering\nlet matchesStatus=true;if(selectedStatus===\"recruiting\"){matchesStatus=!study.isClosed&&study.currentNumber<study.recruitNumber;}else if(selectedStatus===\"full\"){matchesStatus=study.currentNumber>=study.recruitNumber;}else if(selectedStatus===\"closed\"){matchesStatus=study.isClosed;}// Member count filtering\nconst matchesMinMembers=!minMembers||study.recruitNumber>=parseInt(minMembers);const matchesMaxMembers=!maxMembers||study.recruitNumber<=parseInt(maxMembers);return matchesSearch&&matchesCategory&&matchesMode&&matchesStatus&&matchesLocation&&matchesMinMembers&&matchesMaxMembers;}).sort((a,b)=>{let aValue,bValue;switch(sortBy){case\"title\":aValue=a.title.toLowerCase();bValue=b.title.toLowerCase();break;case\"category\":aValue=a.category.toLowerCase();bValue=b.category.toLowerCase();break;case\"recruitNumber\":aValue=a.recruitNumber;bValue=b.recruitNumber;break;case\"currentNumber\":aValue=a.currentNumber||0;bValue=b.currentNumber||0;break;case\"createdAt\":default:aValue=new Date(a.createdAt);bValue=new Date(b.createdAt);break;}if(sortOrder===\"asc\"){return aValue>bValue?1:-1;}else{return aValue<bValue?1:-1;}});const handleSearchSubmit=e=>{e.preventDefault();saveSearchHistory(searchTerm);setShowSearchHistory(false);};const handleSearchHistoryClick=term=>{setSearchTerm(term);setShowSearchHistory(false);};// Highlight search terms in text\nconst highlightText=(text,searchTerm)=>{if(!searchTerm||!text)return text;const regex=new RegExp(`(${searchTerm})`,\"gi\");const parts=text.split(regex);return parts.map((part,index)=>regex.test(part)?/*#__PURE__*/_jsx(\"mark\",{className:\"bg-yellow-200 px-1 rounded\",children:part},index):part);};// Close search history when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(showSearchHistory&&!event.target.closest(\".search-container\")){setShowSearchHistory(false);}};document.addEventListener(\"mousedown\",handleClickOutside);return()=>{document.removeEventListener(\"mousedown\",handleClickOutside);};},[showSearchHistory]);const formatDate=dateString=>{if(!dateString)return\"미정\";return new Date(dateString).toLocaleDateString(\"ko-KR\");};const getStatusBadge=study=>{if(study.isClosed){return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\",children:\"\\uBAA8\\uC9D1 \\uC644\\uB8CC\"});}if(study.currentNumber>=study.recruitNumber){return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\",children:\"\\uC778\\uC6D0 \\uB9C8\\uAC10\"});}return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\",children:\"\\uBAA8\\uC9D1 \\uC911\"});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"})})})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"\\uC624\\uB958\\uAC00 \\uBC1C\\uC0DD\\uD588\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchStudies,className:\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\",children:\"\\uB2E4\\uC2DC \\uC2DC\\uB3C4\"})]})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-6 sm:px-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"\\uC2A4\\uD130\\uB514 \\uBAA9\\uB85D\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/create-study\"),className:\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\",children:\"\\uC0C8 \\uC2A4\\uD130\\uB514 \\uB9CC\\uB4E4\\uAE30\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative search-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"\\uAC80\\uC0C9\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearchSubmit,className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uC2A4\\uD130\\uB514 \\uC81C\\uBAA9, \\uB0B4\\uC6A9, \\uC791\\uC131\\uC790\\uB85C \\uAC80\\uC0C9\",value:searchTerm,onChange:e=>{setSearchTerm(e.target.value);setShowSearchHistory(true);},onFocus:()=>setShowSearchHistory(true),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"})})})]}),showSearchHistory&&searchHistory.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 border-b border-gray-200 flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"\\uCD5C\\uADFC \\uAC80\\uC0C9\\uC5B4\"}),/*#__PURE__*/_jsx(\"button\",{onClick:clearSearchHistory,className:\"text-xs text-red-600 hover:text-red-800\",children:\"\\uC804\\uCCB4 \\uC0AD\\uC81C\"})]}),searchHistory.map((term,index)=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleSearchHistoryClick(term),className:\"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-2 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})}),term]},index))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"\\uBD84\\uB958\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedCategory,onChange:e=>setSelectedCategory(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\uC804\\uCCB4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uD504\\uB85C\\uADF8\\uB798\\uBC0D\",children:\"\\uD504\\uB85C\\uADF8\\uB798\\uBC0D\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uC5B8\\uC5B4\",children:\"\\uC5B8\\uC5B4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uC790\\uACA9\\uC99D\",children:\"\\uC790\\uACA9\\uC99D\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uCDE8\\uC5C5\\uC900\\uBE44\",children:\"\\uCDE8\\uC5C5\\uC900\\uBE44\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uAE30\\uD0C0\",children:\"\\uAE30\\uD0C0\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"\\uBAA8\\uB4DC\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedMode,onChange:e=>setSelectedMode(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\uC804\\uCCB4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uC628\\uB77C\\uC778\",children:\"\\uC628\\uB77C\\uC778\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uC624\\uD504\\uB77C\\uC778\",children:\"\\uC624\\uD504\\uB77C\\uC778\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uD558\\uC774\\uBE0C\\uB9AC\\uB4DC\",children:\"\\uD558\\uC774\\uBE0C\\uB9AC\\uB4DC\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-end space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAdvancedFilters(!showAdvancedFilters),className:\"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 text-sm\",children:showAdvancedFilters?\"고급 필터 숨기기\":\"고급 필터\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSavedSearches(!showSavedSearches),className:\"flex-1 bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 text-sm\",children:\"\\uAC80\\uC0C9\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSearchTerm(\"\");setSelectedCategory(\"\");setSelectedMode(\"\");setSelectedStatus(\"\");setSelectedLocation(\"\");setMinMembers(\"\");setMaxMembers(\"\");},className:\"flex-1 bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 text-sm\",children:\"\\uCD08\\uAE30\\uD654\"})]})]}),showSavedSearches&&/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200 pt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-700\",children:\"\\uC800\\uC7A5\\uB41C \\uAC80\\uC0C9 \\uC870\\uAC74\"}),/*#__PURE__*/_jsx(\"button\",{onClick:saveCurrentSearch,className:\"text-sm text-indigo-600 hover:text-indigo-800 underline\",children:\"\\uD604\\uC7AC \\uAC80\\uC0C9 \\uC800\\uC7A5\"})]}),savedSearches.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 text-center py-4\",children:\"\\uC800\\uC7A5\\uB41C \\uAC80\\uC0C9 \\uC870\\uAC74\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:savedSearches.map(savedSearch=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>loadSavedSearch(savedSearch),className:\"text-sm font-medium text-gray-900 hover:text-indigo-600\",children:savedSearch.name}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:new Date(savedSearch.createdAt).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-600 mt-1\",children:[savedSearch.searchTerm&&`검색어: ${savedSearch.searchTerm}`,savedSearch.category&&` | 분류: ${savedSearch.category}`,savedSearch.mode&&` | 모드: ${savedSearch.mode}`]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteSavedSearch(savedSearch.id),className:\"text-red-600 hover:text-red-800 text-sm\",title:\"\\uC0AD\\uC81C\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"})})})]},savedSearch.id))})]}),showAdvancedFilters&&/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-200 pt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-5 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"\\uC0C1\\uD0DC\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedStatus,onChange:e=>setSelectedStatus(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\uC804\\uCCB4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"recruiting\",children:\"\\uBAA8\\uC9D1 \\uC911\"}),/*#__PURE__*/_jsx(\"option\",{value:\"full\",children:\"\\uC778\\uC6D0 \\uB9C8\\uAC10\"}),/*#__PURE__*/_jsx(\"option\",{value:\"closed\",children:\"\\uBAA8\\uC9D1 \\uC644\\uB8CC\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"\\uC704\\uCE58\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uC704\\uCE58\\uB85C \\uAC80\\uC0C9\",value:selectedLocation,onChange:e=>setSelectedLocation(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"\\uCD5C\\uC18C \\uC778\\uC6D0\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"\\uCD5C\\uC18C\",value:minMembers,onChange:e=>setMinMembers(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"\\uCD5C\\uB300 \\uC778\\uC6D0\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"\\uCD5C\\uB300\",value:maxMembers,onChange:e=>setMaxMembers(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-end\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"\\uAC80\\uC0C9 \\uACB0\\uACFC\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-semibold text-indigo-600\",children:[filteredStudies.length,\"\\uAC1C\"]})]})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6\",children:[debouncedSearchTerm||selectedCategory||selectedMode||selectedStatus||selectedLocation||minMembers||maxMembers?/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4 sm:mb-0 flex-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-blue-900\",children:\"\\uAC80\\uC0C9 \\uACB0\\uACFC\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-700 mt-1\",children:[\"\\uCD1D\",\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold\",children:[filteredStudies.length,\"\\uAC1C\"]}),\"\\uC758 \\uC2A4\\uD130\\uB514\\uB97C \\uCC3E\\uC558\\uC2B5\\uB2C8\\uB2E4\",debouncedSearchTerm&&/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2\",children:[\"(\\uAC80\\uC0C9\\uC5B4:\",\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold\",children:[\"\\\"\",debouncedSearchTerm,\"\\\"\"]}),\")\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSearchTerm(\"\");setSelectedCategory(\"\");setSelectedMode(\"\");setSelectedStatus(\"\");setSelectedLocation(\"\");setMinMembers(\"\");setMaxMembers(\"\");},className:\"text-sm text-blue-600 hover:text-blue-800 underline\",children:\"\\uAC80\\uC0C9 \\uC870\\uAC74 \\uCD08\\uAE30\\uD654\"})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 sm:mb-0\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"\\uCD1D\",\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold\",children:[filteredStudies.length,\"\\uAC1C\"]}),\"\\uC758 \\uC2A4\\uD130\\uB514\"]})}),filteredStudies.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"\\uC815\\uB82C:\"}),/*#__PURE__*/_jsxs(\"select\",{value:sortBy,onChange:e=>setSortBy(e.target.value),className:\"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"createdAt\",children:\"\\uCD5C\\uC2E0\\uC21C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"title\",children:\"\\uC81C\\uBAA9\\uC21C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"category\",children:\"\\uBD84\\uB958\\uC21C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"recruitNumber\",children:\"\\uBAA8\\uC9D1\\uC778\\uC6D0\\uC21C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"currentNumber\",children:\"\\uD604\\uC7AC\\uC778\\uC6D0\\uC21C\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSortOrder(sortOrder===\"asc\"?\"desc\":\"asc\"),className:\"p-1 text-gray-400 hover:text-gray-600\",title:sortOrder===\"asc\"?\"내림차순\":\"오름차순\",children:sortOrder===\"asc\"?/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 15l7-7 7 7\"})}):/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})})]})]}),filteredStudies.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"mx-auto h-12 w-12 text-gray-400\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:studies.length===0?\"스터디가 없습니다\":\"검색 결과가 없습니다\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:studies.length===0?\"첫 번째 스터디를 만들어보세요!\":\"다른 검색 조건을 시도해보세요.\"}),studies.length===0?/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/create-study\"),className:\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\",children:\"\\uC2A4\\uD130\\uB514 \\uB9CC\\uB4E4\\uAE30\"}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSearchTerm(\"\");setSelectedCategory(\"\");setSelectedMode(\"\");setSelectedStatus(\"\");setSelectedLocation(\"\");setMinMembers(\"\");setMaxMembers(\"\");},className:\"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700\",children:\"\\uAC80\\uC0C9 \\uC870\\uAC74 \\uCD08\\uAE30\\uD654\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:filteredStudies.map(study=>{var _study$author2;return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 line-clamp-2\",children:highlightText(study.title,debouncedSearchTerm)}),getStatusBadge(study)]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-4 line-clamp-3\",children:highlightText(study.description,debouncedSearchTerm)}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uBD84\\uB958:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs\",children:study.category})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uBAA8\\uB4DC:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-green-100 text-green-800 px-2 py-1 rounded text-xs\",children:study.mode})]}),study.location&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uC704\\uCE58:\"}),/*#__PURE__*/_jsx(\"span\",{children:study.location})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uC778\\uC6D0:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[study.currentNumber||1,\"/\",study.recruitNumber,\"\\uBA85\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uC791\\uC131\\uC790:\"}),/*#__PURE__*/_jsx(\"span\",{children:highlightText(((_study$author2=study.author)===null||_study$author2===void 0?void 0:_study$author2.username)||\"알 수 없음\",debouncedSearchTerm)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uC791\\uC131\\uC77C:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(study.createdAt)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(`/studies/${study.id}`),className:\"w-full bg-indigo-600 text-white px-3 py-2 rounded-md hover:bg-indigo-700 text-sm\",children:\"\\uC0C1\\uC138\\uBCF4\\uAE30\"})})]})},study.id);})})]})});};const MyApplications=()=>{var _applications$data,_applications$data2,_applications$data3,_applications$data4,_applications$data5,_applications$data5$d,_applications$data6;const{user}=useAuth();const navigate=useNavigate();const[applications,setApplications]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{if(user){fetchMyApplications();}},[user]);console.log(\"MyApplications render - applications:\",applications);console.log(\"MyApplications render - applications type:\",typeof applications);console.log(\"MyApplications render - applications isArray:\",Array.isArray(applications));console.log(\"MyApplications render - applications keys:\",applications?Object.keys(applications):\"no keys\");console.log(\"MyApplications render - applications.data:\",applications===null||applications===void 0?void 0:applications.data);console.log(\"MyApplications render - applications.data type:\",typeof(applications===null||applications===void 0?void 0:applications.data));console.log(\"MyApplications render - applications.data isArray:\",Array.isArray(applications===null||applications===void 0?void 0:applications.data));console.log(\"MyApplications render - applications.data length:\",applications===null||applications===void 0?void 0:(_applications$data=applications.data)===null||_applications$data===void 0?void 0:_applications$data.length);console.log(\"MyApplications render - applications.data count:\",(applications===null||applications===void 0?void 0:(_applications$data2=applications.data)===null||_applications$data2===void 0?void 0:_applications$data2.length)||0);if(Array.isArray(applications===null||applications===void 0?void 0:applications.data)&&applications.data.length>0){console.log(\"MyApplications render - first application:\",applications.data[0]);}const fetchMyApplications=async()=>{console.log(\"fetchMyApplications function called\");try{setLoading(true);const token=localStorage.getItem(\"token\");console.log(\"Fetching applications with token:\",token?\"Token exists\":\"No token\");const response=await fetch(\"http://localhost:3001/api/post/applications\",{headers:{Authorization:`Bearer ${token}`}});console.log(\"Response status:\",response.status);console.log(\"Response ok:\",response.ok);if(response.ok){var _data$data2;const data=await response.json();console.log(\"Applications data:\",data);console.log(\"Applications data.data:\",data.data);console.log(\"Applications data.data type:\",typeof data.data);console.log(\"Applications data.data isArray:\",Array.isArray(data.data));console.log(\"Applications data.data length:\",(_data$data2=data.data)===null||_data$data2===void 0?void 0:_data$data2.length);console.log(\"Full response structure:\",JSON.stringify(data,null,2));setApplications(data);}else{const errorText=await response.text();console.error(\"Error response:\",errorText);setError(`지원 목록을 불러오는데 실패했습니다. (${response.status})`);}}catch(error){console.error(\"Failed to fetch my applications:\",error);setError(\"지원 목록을 불러오는 중 오류가 발생했습니다.\");}finally{setLoading(false);}};const formatDate=dateString=>{if(!dateString)return\"미정\";return new Date(dateString).toLocaleDateString(\"ko-KR\");};const getStatusBadge=study=>{if(study!==null&&study!==void 0&&study.isClosed){return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\",children:\"\\uBAA8\\uC9D1 \\uC644\\uB8CC\"});}if((study===null||study===void 0?void 0:study.currentNumber)>=(study===null||study===void 0?void 0:study.recruitNumber)){return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\",children:\"\\uC778\\uC6D0 \\uB9C8\\uAC10\"});}return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\",children:\"\\uBAA8\\uC9D1 \\uC911\"});};const getApplicationStatusBadge=application=>{if(application.isAccepted){return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\",children:\"\\uC218\\uB77D\\uB428\"});}return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\",children:\"\\uB300\\uAE30\\uC911\"});};// user가 null인 경우 로딩 상태 표시\nif(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"})})})});}if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"})})})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"\\uC624\\uB958\\uAC00 \\uBC1C\\uC0DD\\uD588\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchMyApplications,className:\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\",children:\"\\uB2E4\\uC2DC \\uC2DC\\uB3C4\"})]})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-6 sm:px-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"\\uB0B4\\uAC00 \\uC9C0\\uC6D0\\uD55C \\uC2A4\\uD130\\uB514\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mt-2\",children:[\"\\uCD1D\",\" \",Array.isArray(applications===null||applications===void 0?void 0:(_applications$data3=applications.data)===null||_applications$data3===void 0?void 0:_applications$data3.data)?applications.data.data.length:0,\"\\uAC1C\\uC758 \\uC9C0\\uC6D0\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/studies\"),className:\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\",children:\"\\uC2A4\\uD130\\uB514 \\uBAA9\\uB85D \\uBCF4\\uAE30\"})]}),!Array.isArray(applications===null||applications===void 0?void 0:(_applications$data4=applications.data)===null||_applications$data4===void 0?void 0:_applications$data4.data)||(applications===null||applications===void 0?void 0:(_applications$data5=applications.data)===null||_applications$data5===void 0?void 0:(_applications$data5$d=_applications$data5.data)===null||_applications$data5$d===void 0?void 0:_applications$data5$d.length)===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83D\\uDCDD\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"\\uC544\\uC9C1 \\uC9C0\\uC6D0\\uD55C \\uC2A4\\uD130\\uB514\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"\\uC0C8\\uB85C\\uC6B4 \\uC2A4\\uD130\\uB514\\uC5D0 \\uC9C0\\uC6D0\\uD574\\uBCF4\\uC138\\uC694!\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/studies\"),className:\"bg-indigo-600 text-white px-6 py-3 rounded-md hover:bg-indigo-700\",children:\"\\uC2A4\\uD130\\uB514 \\uBAA9\\uB85D \\uBCF4\\uAE30\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:Array.isArray(applications===null||applications===void 0?void 0:(_applications$data6=applications.data)===null||_applications$data6===void 0?void 0:_applications$data6.data)&&applications.data.data.map(application=>{var _application$post,_application$post2,_application$post3,_application$post4,_application$post5,_application$post6,_application$post7,_application$post8;return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow cursor-pointer\",onClick:()=>navigate(`/studies/${application.post.id}`),children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 line-clamp-2\",children:(_application$post=application.post)===null||_application$post===void 0?void 0:_application$post.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-end space-y-1\",children:[getStatusBadge(application.post),getApplicationStatusBadge(application)]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-4 line-clamp-3\",children:(_application$post2=application.post)===null||_application$post2===void 0?void 0:_application$post2.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uBD84\\uB958:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs\",children:(_application$post3=application.post)===null||_application$post3===void 0?void 0:_application$post3.category})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uBAA8\\uB4DC:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-green-100 text-green-800 px-2 py-1 rounded text-xs\",children:(_application$post4=application.post)===null||_application$post4===void 0?void 0:_application$post4.mode})]}),((_application$post5=application.post)===null||_application$post5===void 0?void 0:_application$post5.location)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uC704\\uCE58:\"}),/*#__PURE__*/_jsx(\"span\",{children:(_application$post6=application.post)===null||_application$post6===void 0?void 0:_application$post6.location})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uC778\\uC6D0:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[((_application$post7=application.post)===null||_application$post7===void 0?void 0:_application$post7.currentNumber)||1,\"/\",(_application$post8=application.post)===null||_application$post8===void 0?void 0:_application$post8.recruitNumber,\"\\uBA85\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uC9C0\\uC6D0\\uC77C:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(application.createdAt)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();navigate(`/studies/${application.post.id}`);},className:\"flex-1 bg-indigo-600 text-white px-3 py-2 rounded-md hover:bg-indigo-700 text-sm\",children:\"\\uC0C1\\uC138\\uBCF4\\uAE30\"})})]})},application.id);})})]})});};const MyMemberships=()=>{var _memberships$data,_memberships$data2,_memberships$data3,_memberships$data3$da,_memberships$data4;const{user}=useAuth();const navigate=useNavigate();const[memberships,setMemberships]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{fetchMyMemberships();},[]);const fetchMyMemberships=async()=>{try{setLoading(true);const token=localStorage.getItem(\"token\");const response=await fetch(\"http://localhost:3001/api/post/memberships\",{headers:{Authorization:`Bearer ${token}`}});if(response.ok){const data=await response.json();setMemberships(data);}else{setError(\"멤버십 목록을 불러오는데 실패했습니다.\");}}catch(error){console.error(\"Failed to fetch my memberships:\",error);setError(\"멤버십 목록을 불러오는 중 오류가 발생했습니다.\");}finally{setLoading(false);}};const formatDate=dateString=>{if(!dateString)return\"미정\";return new Date(dateString).toLocaleDateString(\"ko-KR\");};const getStatusBadge=study=>{if(study!==null&&study!==void 0&&study.isClosed){return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\",children:\"\\uBAA8\\uC9D1 \\uC644\\uB8CC\"});}if((study===null||study===void 0?void 0:study.currentNumber)>=(study===null||study===void 0?void 0:study.recruitNumber)){return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\",children:\"\\uC778\\uC6D0 \\uB9C8\\uAC10\"});}return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\",children:\"\\uBAA8\\uC9D1 \\uC911\"});};const getRoleBadge=membership=>{if(membership.role===\"leader\"){return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800\",children:\"\\uB9AC\\uB354\"});}return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\",children:\"\\uBA64\\uBC84\"});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"})})})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"\\uC624\\uB958\\uAC00 \\uBC1C\\uC0DD\\uD588\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchMyMemberships,className:\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\",children:\"\\uB2E4\\uC2DC \\uC2DC\\uB3C4\"})]})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-6 sm:px-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"\\uB0B4\\uAC00 \\uCC38\\uC5EC\\uD55C \\uC2A4\\uD130\\uB514\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mt-2\",children:[\"\\uCD1D\",\" \",Array.isArray(memberships===null||memberships===void 0?void 0:(_memberships$data=memberships.data)===null||_memberships$data===void 0?void 0:_memberships$data.data)?memberships.data.data.length:0,\"\\uAC1C\\uC758 \\uC2A4\\uD130\\uB514\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/studies\"),className:\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\",children:\"\\uC2A4\\uD130\\uB514 \\uBAA9\\uB85D \\uBCF4\\uAE30\"})]}),!Array.isArray(memberships===null||memberships===void 0?void 0:(_memberships$data2=memberships.data)===null||_memberships$data2===void 0?void 0:_memberships$data2.data)||(memberships===null||memberships===void 0?void 0:(_memberships$data3=memberships.data)===null||_memberships$data3===void 0?void 0:(_memberships$data3$da=_memberships$data3.data)===null||_memberships$data3$da===void 0?void 0:_memberships$data3$da.length)===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83D\\uDC65\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"\\uC544\\uC9C1 \\uCC38\\uC5EC\\uD55C \\uC2A4\\uD130\\uB514\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"\\uC0C8\\uB85C\\uC6B4 \\uC2A4\\uD130\\uB514\\uC5D0 \\uCC38\\uC5EC\\uD574\\uBCF4\\uC138\\uC694!\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/studies\"),className:\"bg-indigo-600 text-white px-6 py-3 rounded-md hover:bg-indigo-700\",children:\"\\uC2A4\\uD130\\uB514 \\uBAA9\\uB85D \\uBCF4\\uAE30\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:Array.isArray(memberships===null||memberships===void 0?void 0:(_memberships$data4=memberships.data)===null||_memberships$data4===void 0?void 0:_memberships$data4.data)&&memberships.data.data.map(membership=>{var _membership$post,_membership$post2,_membership$post3,_membership$post4,_membership$post5,_membership$post6,_membership$post7,_membership$post8;return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow cursor-pointer\",onClick:()=>navigate(`/studies/${membership.post.id}`),children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 line-clamp-2\",children:(_membership$post=membership.post)===null||_membership$post===void 0?void 0:_membership$post.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-end space-y-1\",children:[getStatusBadge(membership.post),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\",children:membership.role===\"leader\"?\"리더\":\"멤버\"})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-4 line-clamp-3\",children:(_membership$post2=membership.post)===null||_membership$post2===void 0?void 0:_membership$post2.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uBD84\\uB958:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs\",children:(_membership$post3=membership.post)===null||_membership$post3===void 0?void 0:_membership$post3.category})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uBAA8\\uB4DC:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-green-100 text-green-800 px-2 py-1 rounded text-xs\",children:(_membership$post4=membership.post)===null||_membership$post4===void 0?void 0:_membership$post4.mode})]}),((_membership$post5=membership.post)===null||_membership$post5===void 0?void 0:_membership$post5.location)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uC704\\uCE58:\"}),/*#__PURE__*/_jsx(\"span\",{children:(_membership$post6=membership.post)===null||_membership$post6===void 0?void 0:_membership$post6.location})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uC778\\uC6D0:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[((_membership$post7=membership.post)===null||_membership$post7===void 0?void 0:_membership$post7.currentNumber)||1,\"/\",(_membership$post8=membership.post)===null||_membership$post8===void 0?void 0:_membership$post8.recruitNumber,\"\\uBA85\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uCC38\\uC5EC\\uC77C:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(membership.createdAt)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();navigate(`/studies/${membership.post.id}`);},className:\"flex-1 bg-indigo-600 text-white px-3 py-2 rounded-md hover:bg-indigo-700 text-sm\",children:\"\\uC0C1\\uC138\\uBCF4\\uAE30\"})})]})},membership.id);})})]})});};const MyMemberStudies=()=>{var _studies$data,_studies$data2,_studies$data3,_studies$data3$data,_studies$data4;const{user}=useAuth();const navigate=useNavigate();const[studies,setStudies]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const fetchMyMemberStudies=async()=>{try{setLoading(true);const token=localStorage.getItem(\"token\");console.log(\"Fetching member studies with token:\",token?\"Token exists\":\"No token\");console.log(\"Request URL:\",\"http://localhost:3001/api/post/member-studies\");const response=await fetch(\"http://localhost:3001/api/post/member-studies\",{headers:{Authorization:`Bearer ${token}`,'Content-Type':'application/json'}});console.log(\"Response status:\",response.status);console.log(\"Response ok:\",response.ok);if(response.ok){const data=await response.json();console.log(\"Member studies data:\",data);setStudies(data);}else{const errorText=await response.text();console.error(\"Response error:\",errorText);setError(\"스터디 목록을 불러오는데 실패했습니다.\");}}catch(error){console.error(\"Failed to fetch my member studies:\",error);setError(\"스터디 목록을 불러오는 중 오류가 발생했습니다.\");}finally{setLoading(false);}};useEffect(()=>{if(user){fetchMyMemberStudies();}},[user]);// user가 null인 경우 로딩 상태 표시\nif(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"})})})});}const formatDate=dateString=>{if(!dateString)return\"미정\";return new Date(dateString).toLocaleDateString(\"ko-KR\");};const getStatusBadge=study=>{if(study!==null&&study!==void 0&&study.isClosed){return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\",children:\"\\uBAA8\\uC9D1 \\uC644\\uB8CC\"});}if((study===null||study===void 0?void 0:study.currentNumber)>=(study===null||study===void 0?void 0:study.recruitNumber)){return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\",children:\"\\uC778\\uC6D0 \\uB9C8\\uAC10\"});}return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\",children:\"\\uBAA8\\uC9D1 \\uC911\"});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"})})})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"\\uC624\\uB958\\uAC00 \\uBC1C\\uC0DD\\uD588\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchMyMemberStudies,className:\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\",children:\"\\uB2E4\\uC2DC \\uC2DC\\uB3C4\"})]})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-6 sm:px-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"\\uB0B4\\uAC00 \\uBA64\\uBC84\\uB85C \\uCC38\\uC5EC\\uD558\\uB294 \\uC6B4\\uC601\\uC2A4\\uD130\\uB514\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mt-2\",children:[\"\\uCD1D\",\" \",Array.isArray(studies===null||studies===void 0?void 0:(_studies$data=studies.data)===null||_studies$data===void 0?void 0:_studies$data.data)?studies.data.data.length:0,\"\\uAC1C\\uC758 \\uC2A4\\uD130\\uB514\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/studies\"),className:\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\",children:\"\\uC2A4\\uD130\\uB514 \\uBAA9\\uB85D \\uBCF4\\uAE30\"})]}),!Array.isArray(studies===null||studies===void 0?void 0:(_studies$data2=studies.data)===null||_studies$data2===void 0?void 0:_studies$data2.data)||(studies===null||studies===void 0?void 0:(_studies$data3=studies.data)===null||_studies$data3===void 0?void 0:(_studies$data3$data=_studies$data3.data)===null||_studies$data3$data===void 0?void 0:_studies$data3$data.length)===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83D\\uDC65\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"\\uC544\\uC9C1 \\uCC38\\uC5EC\\uD558\\uB294 \\uC6B4\\uC601\\uC2A4\\uD130\\uB514\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"\\uC0C8\\uB85C\\uC6B4 \\uC6B4\\uC601\\uC2A4\\uD130\\uB514\\uC5D0 \\uCC38\\uC5EC\\uD574\\uBCF4\\uC138\\uC694!\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/studies\"),className:\"bg-indigo-600 text-white px-6 py-3 rounded-md hover:bg-indigo-700\",children:\"\\uC2A4\\uD130\\uB514 \\uBAA9\\uB85D \\uBCF4\\uAE30\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:Array.isArray(studies===null||studies===void 0?void 0:(_studies$data4=studies.data)===null||_studies$data4===void 0?void 0:_studies$data4.data)&&studies.data.data.map(membership=>{var _membership$post9,_membership$post0,_membership$post1,_membership$post10,_membership$post11,_membership$post12,_membership$post13,_membership$post14;return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow cursor-pointer\",onClick:()=>navigate(`/studies/${membership.post.id}`),children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 line-clamp-2\",children:(_membership$post9=membership.post)===null||_membership$post9===void 0?void 0:_membership$post9.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-end space-y-1\",children:[getStatusBadge(membership.post),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\",children:\"\\uBA64\\uBC84\"})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-4 line-clamp-3\",children:(_membership$post0=membership.post)===null||_membership$post0===void 0?void 0:_membership$post0.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uBD84\\uB958:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs\",children:(_membership$post1=membership.post)===null||_membership$post1===void 0?void 0:_membership$post1.category})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uBAA8\\uB4DC:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-green-100 text-green-800 px-2 py-1 rounded text-xs\",children:(_membership$post10=membership.post)===null||_membership$post10===void 0?void 0:_membership$post10.mode})]}),((_membership$post11=membership.post)===null||_membership$post11===void 0?void 0:_membership$post11.location)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uC704\\uCE58:\"}),/*#__PURE__*/_jsx(\"span\",{children:(_membership$post12=membership.post)===null||_membership$post12===void 0?void 0:_membership$post12.location})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uC778\\uC6D0:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[((_membership$post13=membership.post)===null||_membership$post13===void 0?void 0:_membership$post13.currentNumber)||1,\"/\",(_membership$post14=membership.post)===null||_membership$post14===void 0?void 0:_membership$post14.recruitNumber,\"\\uBA85\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uCC38\\uC5EC\\uC77C:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(membership.createdAt)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();navigate(`/studies/${membership.post.id}`);},className:\"flex-1 bg-indigo-600 text-white px-3 py-2 rounded-md hover:bg-indigo-700 text-sm\",children:\"\\uC0C1\\uC138\\uBCF4\\uAE30\"})})]})},membership.id);})})]})});};const MyLeaderStudies=()=>{var _studies$data5,_studies$data6,_studies$data7,_studies$data7$data,_studies$data8;const{user}=useAuth();const navigate=useNavigate();const[studies,setStudies]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const fetchMyLeaderStudies=async()=>{try{setLoading(true);const token=localStorage.getItem(\"token\");const response=await fetch(\"http://localhost:3001/api/post/leader-studies\",{headers:{Authorization:`Bearer ${token}`}});if(response.ok){const data=await response.json();setStudies(data);}else{setError(\"스터디 목록을 불러오는데 실패했습니다.\");}}catch(error){console.error(\"Failed to fetch my leader studies:\",error);setError(\"스터디 목록을 불러오는 중 오류가 발생했습니다.\");}finally{setLoading(false);}};useEffect(()=>{if(user){fetchMyLeaderStudies();}},[user]);// user가 null인 경우 로딩 상태 표시\nif(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"})})})});}const formatDate=dateString=>{if(!dateString)return\"미정\";return new Date(dateString).toLocaleDateString(\"ko-KR\");};const getStatusBadge=study=>{if(study!==null&&study!==void 0&&study.isClosed){return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\",children:\"\\uBAA8\\uC9D1 \\uC644\\uB8CC\"});}if((study===null||study===void 0?void 0:study.currentNumber)>=(study===null||study===void 0?void 0:study.recruitNumber)){return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\",children:\"\\uC778\\uC6D0 \\uB9C8\\uAC10\"});}return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\",children:\"\\uBAA8\\uC9D1 \\uC911\"});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"})})})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"\\uC624\\uB958\\uAC00 \\uBC1C\\uC0DD\\uD588\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchMyLeaderStudies,className:\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\",children:\"\\uB2E4\\uC2DC \\uC2DC\\uB3C4\"})]})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-6 sm:px-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"\\uB0B4\\uAC00 \\uC6B4\\uC601\\uD558\\uB294 \\uC6B4\\uC601\\uC2A4\\uD130\\uB514\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mt-2\",children:[\"\\uCD1D\",\" \",Array.isArray(studies===null||studies===void 0?void 0:(_studies$data5=studies.data)===null||_studies$data5===void 0?void 0:_studies$data5.data)?studies.data.data.length:0,\"\\uAC1C\\uC758 \\uC2A4\\uD130\\uB514\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/studies\"),className:\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\",children:\"\\uC2A4\\uD130\\uB514 \\uBAA9\\uB85D \\uBCF4\\uAE30\"})]}),!Array.isArray(studies===null||studies===void 0?void 0:(_studies$data6=studies.data)===null||_studies$data6===void 0?void 0:_studies$data6.data)||(studies===null||studies===void 0?void 0:(_studies$data7=studies.data)===null||_studies$data7===void 0?void 0:(_studies$data7$data=_studies$data7.data)===null||_studies$data7$data===void 0?void 0:_studies$data7$data.length)===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83D\\uDC51\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"\\uC544\\uC9C1 \\uC6B4\\uC601\\uD558\\uB294 \\uC6B4\\uC601\\uC2A4\\uD130\\uB514\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"\\uC0C8\\uB85C\\uC6B4 \\uC6B4\\uC601\\uC2A4\\uD130\\uB514\\uB97C \\uB9CC\\uB4E4\\uC5B4\\uBCF4\\uC138\\uC694!\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/studies\"),className:\"bg-indigo-600 text-white px-6 py-3 rounded-md hover:bg-indigo-700\",children:\"\\uC2A4\\uD130\\uB514 \\uBAA9\\uB85D \\uBCF4\\uAE30\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:Array.isArray(studies===null||studies===void 0?void 0:(_studies$data8=studies.data)===null||_studies$data8===void 0?void 0:_studies$data8.data)&&studies.data.data.map(membership=>{var _membership$post15,_membership$post16,_membership$post17,_membership$post18,_membership$post19,_membership$post20,_membership$post21,_membership$post22;return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow cursor-pointer\",onClick:()=>navigate(`/studies/${membership.post.id}`),children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 line-clamp-2\",children:(_membership$post15=membership.post)===null||_membership$post15===void 0?void 0:_membership$post15.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-end space-y-1\",children:[getStatusBadge(membership.post),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800\",children:\"\\uB9AC\\uB354\"})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-4 line-clamp-3\",children:(_membership$post16=membership.post)===null||_membership$post16===void 0?void 0:_membership$post16.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uBD84\\uB958:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs\",children:(_membership$post17=membership.post)===null||_membership$post17===void 0?void 0:_membership$post17.category})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uBAA8\\uB4DC:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-green-100 text-green-800 px-2 py-1 rounded text-xs\",children:(_membership$post18=membership.post)===null||_membership$post18===void 0?void 0:_membership$post18.mode})]}),((_membership$post19=membership.post)===null||_membership$post19===void 0?void 0:_membership$post19.location)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uC704\\uCE58:\"}),/*#__PURE__*/_jsx(\"span\",{children:(_membership$post20=membership.post)===null||_membership$post20===void 0?void 0:_membership$post20.location})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uC778\\uC6D0:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[((_membership$post21=membership.post)===null||_membership$post21===void 0?void 0:_membership$post21.currentNumber)||1,\"/\",(_membership$post22=membership.post)===null||_membership$post22===void 0?void 0:_membership$post22.recruitNumber,\"\\uBA85\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uCC38\\uC5EC\\uC77C:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(membership.createdAt)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();navigate(`/studies/${membership.post.id}`);},className:\"flex-1 bg-indigo-600 text-white px-3 py-2 rounded-md hover:bg-indigo-700 text-sm\",children:\"\\uC0C1\\uC138\\uBCF4\\uAE30\"})})]})},membership.id);})})]})});};const MyStudyDetail=()=>{var _applications$data7,_applications$data7$d,_applications$data8,_applications$data9,_applications$data9$d;const{user}=useAuth();const navigate=useNavigate();const{id}=useParams();const[study,setStudy]=useState(null);const[applications,setApplications]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[activeTab,setActiveTab]=useState('info');// 'info', 'applications'\nconst fetchStudyDetail=async()=>{try{setLoading(true);const token=localStorage.getItem(\"token\");const response=await fetch(`http://localhost:3001/api/post/${id}`,{headers:{Authorization:`Bearer ${token}`}});if(response.ok){const data=await response.json();setStudy(data);}else{setError(\"스터디 정보를 불러오는데 실패했습니다.\");}}catch(error){console.error(\"Failed to fetch study detail:\",error);setError(\"스터디 정보를 불러오는 중 오류가 발생했습니다.\");}finally{setLoading(false);}};const fetchApplications=async()=>{try{const token=localStorage.getItem(\"token\");const response=await fetch(`http://localhost:3001/api/post/${id}/applications`,{headers:{Authorization:`Bearer ${token}`}});if(response.ok){const data=await response.json();setApplications(data);}else{console.error(\"Failed to fetch applications\");}}catch(error){console.error(\"Failed to fetch applications:\",error);}};useEffect(()=>{if(user&&id){fetchStudyDetail();fetchApplications();}},[user,id]);// user가 null인 경우 로딩 상태 표시\nif(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"})})})});}const formatDate=dateString=>{if(!dateString)return\"미정\";return new Date(dateString).toLocaleDateString(\"ko-KR\");};const getStatusBadge=study=>{if(study!==null&&study!==void 0&&study.isClosed){return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\",children:\"\\uBAA8\\uC9D1 \\uC644\\uB8CC\"});}if((study===null||study===void 0?void 0:study.currentNumber)>=(study===null||study===void 0?void 0:study.recruitNumber)){return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\",children:\"\\uC778\\uC6D0 \\uB9C8\\uAC10\"});}return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\",children:\"\\uBAA8\\uC9D1 \\uC911\"});};const getApplicationStatusBadge=application=>{if(application.isAccepted){return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\",children:\"\\uC218\\uB77D\\uB428\"});}return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\",children:\"\\uB300\\uAE30\\uC911\"});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"})})})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"\\uC624\\uB958\\uAC00 \\uBC1C\\uC0DD\\uD588\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/my-studies\"),className:\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\",children:\"\\uB3CC\\uC544\\uAC00\\uAE30\"})]})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-6 sm:px-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:(study===null||study===void 0?void 0:study.title)||\"스터디 상세정보\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:\"\\uB0B4\\uAC00 \\uB9CC\\uB4E0 \\uC2A4\\uD130\\uB514 \\uAD00\\uB9AC\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(`/studies/${id}/edit`),className:\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700\",children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/my-studies\"),className:\"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700\",children:\"\\uBAA9\\uB85D\\uC73C\\uB85C\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200 mb-6\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"-mb-px flex space-x-8\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('info'),className:`py-2 px-1 border-b-2 font-medium text-sm ${activeTab==='info'?'border-indigo-500 text-indigo-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,children:\"\\uC2A4\\uD130\\uB514 \\uC815\\uBCF4\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('applications'),className:`py-2 px-1 border-b-2 font-medium text-sm ${activeTab==='applications'?'border-indigo-500 text-indigo-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,children:[\"\\uC9C0\\uC6D0\\uC790 \\uB0B4\\uC5ED (\",(applications===null||applications===void 0?void 0:(_applications$data7=applications.data)===null||_applications$data7===void 0?void 0:(_applications$data7$d=_applications$data7.data)===null||_applications$data7$d===void 0?void 0:_applications$data7$d.length)||0,\")\"]})]})}),activeTab==='info'&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"\\uAE30\\uBCF8 \\uC815\\uBCF4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"\\uC81C\\uBAA9:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:study===null||study===void 0?void 0:study.title})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"\\uC124\\uBA85:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:study===null||study===void 0?void 0:study.description})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"\\uBD84\\uB958:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm\",children:study===null||study===void 0?void 0:study.category})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"\\uBAA8\\uB4DC:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-green-100 text-green-800 px-2 py-1 rounded text-sm\",children:study===null||study===void 0?void 0:study.mode})]}),(study===null||study===void 0?void 0:study.location)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"\\uC704\\uCE58:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:study===null||study===void 0?void 0:study.location})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"\\uC0C1\\uD0DC \\uC815\\uBCF4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"\\uC0C1\\uD0DC:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1\",children:getStatusBadge(study)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"\\uC778\\uC6D0:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-900\",children:[(study===null||study===void 0?void 0:study.currentNumber)||1,\"/\",study===null||study===void 0?void 0:study.recruitNumber,\"\\uBA85\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"\\uC791\\uC131\\uC77C:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:formatDate(study===null||study===void 0?void 0:study.createdAt)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"\\uC2A4\\uD130\\uB514 \\uC0C1\\uD0DC:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-purple-100 text-purple-800 px-2 py-1 rounded text-sm\",children:study===null||study===void 0?void 0:study.studyStatus})]})]})]})]})}),activeTab==='applications'&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md\",children:!Array.isArray(applications===null||applications===void 0?void 0:(_applications$data8=applications.data)===null||_applications$data8===void 0?void 0:_applications$data8.data)||(applications===null||applications===void 0?void 0:(_applications$data9=applications.data)===null||_applications$data9===void 0?void 0:(_applications$data9$d=_applications$data9.data)===null||_applications$data9$d===void 0?void 0:_applications$data9$d.length)===0?/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83D\\uDCDD\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"\\uC544\\uC9C1 \\uC9C0\\uC6D0\\uC790\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"\\uC2A4\\uD130\\uB514\\uC5D0 \\uC9C0\\uC6D0\\uD55C \\uC0AC\\uB78C\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-gray-200\",children:applications.data.data.map(application=>{var _application$applican,_application$applican2,_application$applican3;return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-indigo-600 font-semibold\",children:(_application$applican=application.applicant)===null||_application$applican===void 0?void 0:(_application$applican2=_application$applican.username)===null||_application$applican2===void 0?void 0:_application$applican2.charAt(0).toUpperCase()})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:(_application$applican3=application.applicant)===null||_application$applican3===void 0?void 0:_application$applican3.username}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"\\uC9C0\\uC6D0\\uC77C: \",formatDate(application.createdAt)]})]})]}),getApplicationStatusBadge(application)]}),application.answers&&Object.keys(application.answers).length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-3\",children:\"\\uC9C0\\uC6D0\\uC11C \\uB2F5\\uBCC0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:Object.entries(application.answers).map((_ref3,index)=>{let[question,answer]=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"border-l-4 border-indigo-200 pl-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-700 mb-1\",children:question}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900 bg-white p-2 rounded border\",children:answer})]},index);})})]})]},application.id);})})})]})});};const MyStudies=()=>{var _studies$data9,_studies$data0,_studies$data1,_studies$data1$data,_studies$data10;const{user}=useAuth();const navigate=useNavigate();const[studies,setStudies]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const fetchMyStudies=async()=>{try{setLoading(true);const token=localStorage.getItem(\"token\");const response=await fetch(\"http://localhost:3001/api/post/user/my-studies\",{headers:{Authorization:`Bearer ${token}`}});if(response.ok){const data=await response.json();setStudies(data);}else{setError(\"스터디 목록을 불러오는데 실패했습니다.\");}}catch(error){console.error(\"Failed to fetch my studies:\",error);setError(\"스터디 목록을 불러오는 중 오류가 발생했습니다.\");}finally{setLoading(false);}};useEffect(()=>{if(user){fetchMyStudies();}},[user]);// user가 null인 경우 로딩 상태 표시\nif(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"})})})});}const formatDate=dateString=>{if(!dateString)return\"미정\";return new Date(dateString).toLocaleDateString(\"ko-KR\");};const getStatusBadge=study=>{if(study!==null&&study!==void 0&&study.isClosed){return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\",children:\"\\uBAA8\\uC9D1 \\uC644\\uB8CC\"});}if((study===null||study===void 0?void 0:study.currentNumber)>=(study===null||study===void 0?void 0:study.recruitNumber)){return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\",children:\"\\uC778\\uC6D0 \\uB9C8\\uAC10\"});}return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\",children:\"\\uBAA8\\uC9D1 \\uC911\"});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"})})})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"\\uC624\\uB958\\uAC00 \\uBC1C\\uC0DD\\uD588\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchMyStudies,className:\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\",children:\"\\uB2E4\\uC2DC \\uC2DC\\uB3C4\"})]})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-6 sm:px-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"\\uB0B4\\uAC00 \\uB9CC\\uB4E0 \\uC2A4\\uD130\\uB514\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mt-2\",children:[\"\\uCD1D\",\" \",Array.isArray(studies===null||studies===void 0?void 0:(_studies$data9=studies.data)===null||_studies$data9===void 0?void 0:_studies$data9.data)?studies.data.data.length:0,\"\\uAC1C\\uC758 \\uC2A4\\uD130\\uB514\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/create-study\"),className:\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\",children:\"\\uC0C8 \\uC2A4\\uD130\\uB514 \\uB9CC\\uB4E4\\uAE30\"})]}),!Array.isArray(studies===null||studies===void 0?void 0:(_studies$data0=studies.data)===null||_studies$data0===void 0?void 0:_studies$data0.data)||(studies===null||studies===void 0?void 0:(_studies$data1=studies.data)===null||_studies$data1===void 0?void 0:(_studies$data1$data=_studies$data1.data)===null||_studies$data1$data===void 0?void 0:_studies$data1$data.length)===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83D\\uDC51\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"\\uC544\\uC9C1 \\uB9CC\\uB4E0 \\uC2A4\\uD130\\uB514\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"\\uCCAB \\uBC88\\uC9F8 \\uC2A4\\uD130\\uB514\\uB97C \\uB9CC\\uB4E4\\uC5B4\\uBCF4\\uC138\\uC694!\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/create-study\"),className:\"bg-indigo-600 text-white px-6 py-3 rounded-md hover:bg-indigo-700\",children:\"\\uC2A4\\uD130\\uB514 \\uB9CC\\uB4E4\\uAE30\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:Array.isArray(studies===null||studies===void 0?void 0:(_studies$data10=studies.data)===null||_studies$data10===void 0?void 0:_studies$data10.data)&&studies.data.data.map(study=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow cursor-pointer\",onClick:()=>navigate(`/studies/${study.id}`),children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 line-clamp-2\",children:study.title}),getStatusBadge(study)]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-4 line-clamp-3\",children:study.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uBD84\\uB958:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs\",children:study.category})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uBAA8\\uB4DC:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-green-100 text-green-800 px-2 py-1 rounded text-xs\",children:study.mode})]}),study.location&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uC704\\uCE58:\"}),/*#__PURE__*/_jsx(\"span\",{children:study.location})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uC778\\uC6D0:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[study.currentNumber||1,\"/\",study.recruitNumber,\"\\uBA85\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uC791\\uC131\\uC77C:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(study.createdAt)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();navigate(`/studies/${study.id}`);},className:\"flex-1 bg-indigo-600 text-white px-3 py-2 rounded-md hover:bg-indigo-700 text-sm\",children:\"\\uC0C1\\uC138\\uBCF4\\uAE30\"}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();navigate(`/studies/${study.id}/edit`);},className:\"flex-1 bg-green-600 text-white px-3 py-2 rounded-md hover:bg-green-700 text-sm\",children:\"\\uC218\\uC815\"})]})]})},study.id))})]})});};const StudyDetail=()=>{var _study$author3,_study$author4;const{user}=useAuth();const navigate=useNavigate();const{id}=useParams();const[study,setStudy]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[sessions,setSessions]=useState([]);const[members,setMembers]=useState([]);const[activeTab,setActiveTab]=useState(\"info\");const[showApplicationForm,setShowApplicationForm]=useState(false);console.log(\"=== StudyDetail Component ===\");console.log(\"URL ID from useParams:\",id);console.log(\"URL ID type:\",typeof id);console.log(\"Current URL:\",window.location.href);useEffect(()=>{if(id){fetchStudyDetail();fetchStudySessions();fetchStudyMembers();}},[id]);const fetchStudyDetail=async()=>{try{setLoading(true);console.log(\"Fetching study detail for ID:\",id);console.log(\"Fetching study detail for ID type:\",typeof id);console.log(\"API URL:\",`http://localhost:3001/api/post/${id}/detail`);const token=localStorage.getItem(\"token\");console.log(\"Token for study detail:\",token);const response=await fetch(`http://localhost:3001/api/post/${id}/detail`,{headers:{Authorization:`Bearer ${token}`}});console.log(\"Study detail response status:\",response.status);if(response.ok){var _data$data3,_data$data4,_data$data5,_ref4,_data$data6;const data=await response.json();console.log(\"Study detail data:\",data);console.log(\"Study ID from response:\",((_data$data3=data.data)===null||_data$data3===void 0?void 0:_data$data3.id)||data.id);console.log(\"Study title from response:\",((_data$data4=data.data)===null||_data$data4===void 0?void 0:_data$data4.title)||data.title);console.log(\"Study applicationFormTemplate:\",((_data$data5=data.data)===null||_data$data5===void 0?void 0:_data$data5.applicationFormTemplate)||data.applicationFormTemplate);console.log(\"Study applicationFormTemplate length:\",(_ref4=((_data$data6=data.data)===null||_data$data6===void 0?void 0:_data$data6.applicationFormTemplate)||data.applicationFormTemplate)===null||_ref4===void 0?void 0:_ref4.length);setStudy(data.data||data);}else{const errorData=await response.json();console.error(\"Study detail error response:\",errorData);setError(\"스터디 정보를 불러오는데 실패했습니다.\");}}catch(error){console.error(\"Fetch study detail error:\",error);setError(\"스터디 정보를 불러오는 중 오류가 발생했습니다.\");}finally{setLoading(false);}};const fetchStudySessions=async()=>{try{const response=await fetch(`http://localhost:3001/api/post/${id}/sessions`,{headers:{Authorization:`Bearer ${localStorage.getItem(\"token\")}`}});if(response.ok){const data=await response.json();setSessions(data.data||data||[]);}}catch(error){console.error(\"Fetch sessions error:\",error);}};const fetchStudyMembers=async()=>{try{const response=await fetch(`http://localhost:3001/api/post/${id}`,{headers:{Authorization:`Bearer ${localStorage.getItem(\"token\")}`}});if(response.ok){var _data$data7;const data=await response.json();setMembers(((_data$data7=data.data)===null||_data$data7===void 0?void 0:_data$data7.studymemberships)||data.studymemberships||[]);}}catch(error){console.error(\"Fetch members error:\",error);}};const handleShowApplicationForm=()=>{var _study$applicationFor;console.log(\"handleShowApplicationForm called\");console.log(\"study.applicationFormTemplate:\",study.applicationFormTemplate);console.log(\"study.applicationFormTemplate length:\",(_study$applicationFor=study.applicationFormTemplate)===null||_study$applicationFor===void 0?void 0:_study$applicationFor.length);// 폼이 있으면 모달을 띄우고, 없으면 바로 지원\nif(study.applicationFormTemplate&&study.applicationFormTemplate.length>0){console.log(\"Opening application form modal\");setShowApplicationForm(true);}else{console.log(\"No form required, joining directly\");handleJoinStudy({});// Send empty object for direct join\n}};const handleJoinStudy=async function(){let answers=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};console.log(\"=== handleJoinStudy called ===\");console.log(\"Call stack:\",new Error().stack);console.log(\"Submitting answers:\",answers);console.log(\"Answers type:\",typeof answers);console.log(\"Answers keys:\",Object.keys(answers));console.log(\"Answers length:\",Object.keys(answers).length);console.log(\"Answers is empty:\",Object.keys(answers).length===0);console.log(\"=== END handleJoinStudy ===\");try{const response=await fetch(`http://localhost:3001/api/post/${id}/join`,{method:\"POST\",headers:{Authorization:`Bearer ${localStorage.getItem(\"token\")}`,\"Content-Type\":\"application/json\"},body:JSON.stringify({answers})});if(response.ok){toast.success(\"스터디에 참여 신청되었습니다!\");setShowApplicationForm(false);fetchStudyDetail();fetchStudyMembers();}else{const data=await response.json();toast.error(data.message||\"스터디 참여 신청에 실패했습니다.\");}}catch(error){console.error(\"Join study error:\",error);toast.error(\"스터디 참여 신청 중 오류가 발생했습니다.\");}};const handleLeaveStudy=async()=>{try{const response=await fetch(`http://localhost:3001/api/post/${id}/leave`,{method:\"DELETE\",headers:{Authorization:`Bearer ${localStorage.getItem(\"token\")}`}});if(response.ok){toast.success(\"스터디에서 탈퇴했습니다.\");fetchStudyDetail();fetchStudyMembers();}else{const data=await response.json();toast.error(data.message||\"스터디 탈퇴에 실패했습니다.\");}}catch(error){console.error(\"Leave study error:\",error);toast.error(\"스터디 탈퇴 중 오류가 발생했습니다.\");}};const formatDate=dateString=>{if(!dateString)return\"미정\";return new Date(dateString).toLocaleDateString(\"ko-KR\");};const formatDateTime=dateString=>{if(!dateString)return\"미정\";return new Date(dateString).toLocaleString(\"ko-KR\");};const getStatusBadge=study=>{if(study!==null&&study!==void 0&&study.isClosed){return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\",children:\"\\uBAA8\\uC9D1 \\uC644\\uB8CC\"});}if((study===null||study===void 0?void 0:study.currentNumber)>=(study===null||study===void 0?void 0:study.recruitNumber)){return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\",children:\"\\uC778\\uC6D0 \\uB9C8\\uAC10\"});}return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\",children:\"\\uBAA8\\uC9D1 \\uC911\"});};const isAuthor=(study===null||study===void 0?void 0:(_study$author3=study.author)===null||_study$author3===void 0?void 0:_study$author3.id)===(user===null||user===void 0?void 0:user.id);const isMember=members.some(member=>{var _member$user;return((_member$user=member.user)===null||_member$user===void 0?void 0:_member$user.id)===(user===null||user===void 0?void 0:user.id);});if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"})})})});}if(error||!study){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 sm:px-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"\\uC624\\uB958\\uAC00 \\uBC1C\\uC0DD\\uD588\\uC2B5\\uB2C8\\uB2E4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:error||\"스터디를 찾을 수 없습니다.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/studies\"),className:\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\",children:\"\\uC2A4\\uD130\\uB514 \\uBAA9\\uB85D\\uC73C\\uB85C \\uB3CC\\uC544\\uAC00\\uAE30\"})]})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-6 sm:px-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/studies\"),className:\"text-indigo-600 hover:text-indigo-800 font-medium\",children:\"\\u2190 \\uC2A4\\uD130\\uB514 \\uBAA9\\uB85D\\uC73C\\uB85C \\uB3CC\\uC544\\uAC00\\uAE30\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[isAuthor&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(`/studies/${id}/edit`),className:\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\",children:\"\\uC218\\uC815\"}),!isAuthor&&!isMember&&!study.isClosed&&study.currentNumber<study.recruitNumber&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{console.log(\"참여신청 버튼 클릭됨\");handleShowApplicationForm();},className:\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700\",children:\"\\uCC38\\uC5EC\\uC2E0\\uCCAD\"}),!isAuthor&&isMember&&/*#__PURE__*/_jsx(\"button\",{onClick:handleLeaveStudy,className:\"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700\",children:\"\\uD0C8\\uD1F4\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:study.title}),getStatusBadge(study)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uBD84\\uB958:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs\",children:study.category})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uBAA8\\uB4DC:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-green-100 text-green-800 px-2 py-1 rounded text-xs\",children:study.mode})]}),study.location&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uC704\\uCE58:\"}),/*#__PURE__*/_jsx(\"span\",{children:study.location})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uC778\\uC6D0:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[study.currentNumber||1,\"/\",study.recruitNumber,\"\\uBA85\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uC791\\uC131\\uC790:\"}),/*#__PURE__*/_jsx(\"span\",{children:((_study$author4=study.author)===null||_study$author4===void 0?void 0:_study$author4.username)||\"알 수 없음\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium mr-2\",children:\"\\uC791\\uC131\\uC77C:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(study.createdAt)})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"-mb-px flex space-x-8 px-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(\"info\"),className:`py-4 px-1 border-b-2 font-medium text-sm ${activeTab===\"info\"?\"border-indigo-500 text-indigo-600\":\"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300\"}`,children:\"\\uC2A4\\uD130\\uB514 \\uC815\\uBCF4\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(\"sessions\"),className:`py-4 px-1 border-b-2 font-medium text-sm ${activeTab===\"sessions\"?\"border-indigo-500 text-indigo-600\":\"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300\"}`,children:[\"\\uC2A4\\uD130\\uB514 \\uC138\\uC158 (\",sessions.length,\")\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(\"members\"),className:`py-4 px-1 border-b-2 font-medium text-sm ${activeTab===\"members\"?\"border-indigo-500 text-indigo-600\":\"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300\"}`,children:[\"\\uBA64\\uBC84 (\",members.length,\")\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[activeTab===\"info\"&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"\\uC2A4\\uD130\\uB514 \\uC124\\uBA85\"}),/*#__PURE__*/_jsx(\"div\",{className:\"prose max-w-none\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 whitespace-pre-wrap\",children:study.description})}),(study.studyStartDate||study.studyEndDate)&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-medium text-gray-900 mb-2\",children:\"\\uC2A4\\uD130\\uB514 \\uAE30\\uAC04\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[study.studyStartDate&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"\\uC2DC\\uC791\\uC77C:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm text-gray-900\",children:formatDate(study.studyStartDate)})]}),study.studyEndDate&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-500\",children:\"\\uC885\\uB8CC\\uC77C:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm text-gray-900\",children:formatDate(study.studyEndDate)})]})]})]})]}),activeTab===\"sessions\"&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"\\uC2A4\\uD130\\uB514 \\uC138\\uC158\"}),isAuthor&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(`/studies/${id}/sessions/create`),className:\"bg-indigo-600 text-white px-3 py-1 rounded-md hover:bg-indigo-700 text-sm\",children:\"\\uC138\\uC158 \\uCD94\\uAC00\"})]}),sessions.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"\\uB4F1\\uB85D\\uB41C \\uC2A4\\uD130\\uB514 \\uC138\\uC158\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:sessions.map(session=>/*#__PURE__*/_jsx(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900\",children:session.title||`${session.sessionNumber}회차`}),session.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:session.description}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-sm text-gray-500\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uC77C\\uC2DC: \",formatDateTime(session.scheduledDate)]})})]}),/*#__PURE__*/_jsx(\"span\",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${session.status===\"SCHEDULED\"?\"bg-blue-100 text-blue-800\":session.status===\"IN_PROGRESS\"?\"bg-green-100 text-green-800\":\"bg-gray-100 text-gray-800\"}`,children:session.status===\"SCHEDULED\"?\"예정\":session.status===\"IN_PROGRESS\"?\"진행중\":\"완료\"})]})},session.id))})]}),activeTab===\"members\"&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"\\uC2A4\\uD130\\uB514 \\uBA64\\uBC84\"}),members.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"\\uB4F1\\uB85D\\uB41C \\uBA64\\uBC84\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:members.map(member=>{var _member$user2,_member$user2$usernam,_member$user3,_member$user4;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-10 w-10 bg-indigo-600 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-sm font-medium\",children:(_member$user2=member.user)===null||_member$user2===void 0?void 0:(_member$user2$usernam=_member$user2.username)===null||_member$user2$usernam===void 0?void 0:_member$user2$usernam.charAt(0).toUpperCase()})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:(_member$user3=member.user)===null||_member$user3===void 0?void 0:_member$user3.username}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:(_member$user4=member.user)===null||_member$user4===void 0?void 0:_member$user4.email})]})]},member.id);})})]})]})]})]}),showApplicationForm&&(study===null||study===void 0?void 0:study.applicationFormTemplate)&&/*#__PURE__*/_jsxs(\"div\",{children:[console.log(\"Rendering ApplicationForm modal\"),console.log(\"showApplicationForm:\",showApplicationForm),console.log(\"study.applicationFormTemplate:\",study.applicationFormTemplate),/*#__PURE__*/_jsx(ApplicationForm,{questions:study.applicationFormTemplate,onSubmit:handleJoinStudy,onCancel:()=>setShowApplicationForm(false),loading:false})]})]});};const ProtectedRoute=_ref5=>{let{children}=_ref5;const{user,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"})});}if(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}return/*#__PURE__*/_jsx(_Fragment,{children:children});};const Layout=_ref6=>{let{children}=_ref6;const{user}=useAuth();return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[user&&/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"main\",{children:children})]});};const App=()=>{return/*#__PURE__*/_jsx(QueryClientProvider,{client:queryClient,children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(AuthProvider,{children:[/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Home,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(RegisterForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/me\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(UserProfile,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/studies\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(StudyList,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/studies/:id\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(StudyDetail,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/studies/:id/applicants\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(StudyApplicants,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/my-studies\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(MyStudies,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/my-applications\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(MyApplications,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/my-memberships\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(MyMemberships,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/my-member-studies\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(MyMemberStudies,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/my-leader-studies\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(MyLeaderStudies,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/create-study\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(CreateStudy,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})}),/*#__PURE__*/_jsx(Toaster,{position:\"top-right\"})]})})});};export default App;","map":{"version":3,"names":["React","useState","useEffect","createContext","useContext","BrowserRouter","Router","Routes","Route","Navigate","Link","useNavigate","useParams","QueryClient","QueryClientProvider","Toaster","toast","StudyApplicants","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","queryClient","AuthContext","undefined","useAuth","context","Error","AuthProvider","_ref","children","user","setUser","loading","setLoading","navigate","token","localStorage","getItem","console","log","fetchCurrentUser","length","response","fetch","headers","Authorization","status","ok","_data$data","data","json","username","removeItem","error","login","email","password","method","body","JSON","stringify","Object","keys","setItem","storedToken","success","message","register","logout","Provider","value","ApplicationForm","_ref2","_questions$","_questions$2","questions","onSubmit","onCancel","type","question","handleSubmit","values","className","e","preventDefault","formData","FormData","target","key","entries","map","index","questionText","required","name","placeholder","rows","options","option","optionIndex","onClick","disabled","LoginForm","setEmail","setPassword","to","onChange","RegisterForm","setFormData","confirmPassword","errors","setErrors","validateForm","newErrors","handleChange","htmlFor","id","UserProfile","_user$username","charAt","toUpperCase","role","provider","CreateStudy","title","description","category","mode","location","recruitNumber","studyStartDate","studyEndDate","showRequestForm","setShowRequestForm","requestFormData","setRequestFormData","requestFormErrors","setRequestFormErrors","trim","Date","validateRequestForm","forEach","emptyOptions","filter","studyResponse","parseInt","studyData","Promise","resolve","setTimeout","formResponse","postId","q","isRequired","order","formError","addQuestion","removeQuestion","newQuestions","_","i","updateQuestion","field","handleRequestFormChange","addOption","questionIndex","push","removeOption","splice","updateOption","min","max","checked","Header","Home","_myStudies$data","_myApplications$data","_myMemberStudies$data","_myLeaderStudies$data","myStudies","setMyStudies","myApplications","setMyApplications","myMemberships","setMyMemberships","myMemberStudies","setMyMemberStudies","myLeaderStudies","setMyLeaderStudies","fetchUserStudies","myStudiesResponse","myStudiesData","applicationsResponse","applicationsData","membershipsResponse","membershipsData","memberStudiesResponse","memberStudiesData","leaderStudiesResponse","leaderStudiesData","formatDate","dateString","toLocaleDateString","getStatusBadge","study","isClosed","currentNumber","Array","isArray","StudyList","studies","setStudies","setError","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","selectedMode","setSelectedMode","selectedStatus","setSelectedStatus","selectedLocation","setSelectedLocation","minMembers","setMinMembers","maxMembers","setMaxMembers","showAdvancedFilters","setShowAdvancedFilters","searchHistory","setSearchHistory","showSearchHistory","setShowSearchHistory","debouncedSearchTerm","setDebouncedSearchTerm","sortBy","setSortBy","sortOrder","setSortOrder","savedSearches","setSavedSearches","showSavedSearches","setShowSavedSearches","fetchStudies","savedHistory","parse","savedPreferences","preferences","savedSearchesData","timer","clearTimeout","saveSearchHistory","term","newHistory","item","slice","clearSearchHistory","saveSearchPreferences","saveCurrentSearch","searchName","prompt","currentSearch","now","createdAt","toISOString","newSavedSearches","s","loadSavedSearch","savedSearch","deleteSavedSearch","searchId","filteredStudies","_study$author","matchesSearch","toLowerCase","includes","author","matchesCategory","matchesMode","matchesLocation","matchesStatus","matchesMinMembers","matchesMaxMembers","sort","a","b","aValue","bValue","handleSearchSubmit","handleSearchHistoryClick","highlightText","text","regex","RegExp","parts","split","part","test","handleClickOutside","event","closest","document","addEventListener","removeEventListener","onFocus","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","_study$author2","MyApplications","_applications$data","_applications$data2","_applications$data3","_applications$data4","_applications$data5","_applications$data5$d","_applications$data6","applications","setApplications","fetchMyApplications","_data$data2","errorText","getApplicationStatusBadge","application","isAccepted","_application$post","_application$post2","_application$post3","_application$post4","_application$post5","_application$post6","_application$post7","_application$post8","post","stopPropagation","MyMemberships","_memberships$data","_memberships$data2","_memberships$data3","_memberships$data3$da","_memberships$data4","memberships","setMemberships","fetchMyMemberships","getRoleBadge","membership","_membership$post","_membership$post2","_membership$post3","_membership$post4","_membership$post5","_membership$post6","_membership$post7","_membership$post8","MyMemberStudies","_studies$data","_studies$data2","_studies$data3","_studies$data3$data","_studies$data4","fetchMyMemberStudies","_membership$post9","_membership$post0","_membership$post1","_membership$post10","_membership$post11","_membership$post12","_membership$post13","_membership$post14","MyLeaderStudies","_studies$data5","_studies$data6","_studies$data7","_studies$data7$data","_studies$data8","fetchMyLeaderStudies","_membership$post15","_membership$post16","_membership$post17","_membership$post18","_membership$post19","_membership$post20","_membership$post21","_membership$post22","MyStudyDetail","_applications$data7","_applications$data7$d","_applications$data8","_applications$data9","_applications$data9$d","setStudy","activeTab","setActiveTab","fetchStudyDetail","fetchApplications","studyStatus","_application$applican","_application$applican2","_application$applican3","applicant","answers","_ref3","answer","MyStudies","_studies$data9","_studies$data0","_studies$data1","_studies$data1$data","_studies$data10","fetchMyStudies","StudyDetail","_study$author3","_study$author4","sessions","setSessions","members","setMembers","showApplicationForm","setShowApplicationForm","window","href","fetchStudySessions","fetchStudyMembers","_data$data3","_data$data4","_data$data5","_ref4","_data$data6","applicationFormTemplate","errorData","_data$data7","studymemberships","handleShowApplicationForm","_study$applicationFor","handleJoinStudy","arguments","stack","handleLeaveStudy","formatDateTime","toLocaleString","isAuthor","isMember","some","member","_member$user","session","sessionNumber","scheduledDate","_member$user2","_member$user2$usernam","_member$user3","_member$user4","ProtectedRoute","_ref5","replace","Layout","_ref6","App","client","path","element","position"],"sources":["C:/Users/User/WebstormProjects/project3/studygroup-frontend/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect, createContext, useContext } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  Navigate,\n  Link,\n  useNavigate,\n  useParams,\n} from \"react-router-dom\";\nimport { QueryClient, QueryClientProvider, useQuery, useMutation, useQueryClient } from \"react-query\";\nimport { Toaster, toast } from \"react-hot-toast\";\nimport StudyApplicants from \"./pages/StudyApplicants\";\n\n// Add basic types to fix TypeScript errors\ninterface User {\n  id: number;\n  username: string;\n  email: string;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  loading: boolean;\n  login: (email: string, password: string) => Promise<void>;\n  register: (email: string, username: string, password: string) => Promise<void>;\n  logout: () => void;\n}\n\nconst queryClient = new QueryClient();\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nconst useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error(\"useAuth must be used within an AuthProvider\");\n  }\n  return context;\n};\n\nconst AuthProvider = ({ children }: { children: React.ReactNode }) => {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    console.log(\"useEffect - Token found:\", !!token);\n    if (token) {\n      console.log(\"useEffect - Calling fetchCurrentUser\");\n      fetchCurrentUser();\n    } else {\n      setLoading(false);\n    }\n  }, []);\n\n  const fetchCurrentUser = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      console.log(\"Token from localStorage:\", token);\n      console.log(\"Token type:\", typeof token);\n      console.log(\"Token length:\", token ? token.length : 0);\n\n      if (!token) {\n        console.log(\"No token found in localStorage\");\n        setLoading(false);\n        return;\n      }\n\n      const response = await fetch(\"http://localhost:3001/api/user/me\", {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      console.log(\"User fetch response status:\", response.status);\n      if (response.ok) {\n        const data = await response.json();\n        console.log(\"User data received:\", data);\n        console.log(\"Setting user with data.data:\", data.data);\n        console.log(\"data.data.username:\", data.data?.username);\n        setUser(data.data);\n      } else {\n        console.log(\"User fetch failed, removing token\");\n        localStorage.removeItem(\"token\");\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch user:\", error);\n      localStorage.removeItem(\"token\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const login = async (email, password) => {\n    setLoading(true);\n    try {\n      const response = await fetch(\"http://localhost:3001/api/auth/login\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email, password }),\n      });\n      const data = await response.json();\n      console.log(\"Login response:\", data);\n      console.log(\"Response status:\", response.status);\n      console.log(\"Response ok:\", response.ok);\n      console.log(\"Data keys:\", Object.keys(data));\n      if (response.ok) {\n        // 응답 구조에 따라 토큰 추출\n        const token = data.token || (data.data && data.data.token);\n        console.log(\"Token received:\", token);\n        console.log(\"Token type:\", typeof token);\n        console.log(\"Token length:\", token ? token.length : 0);\n\n        if (!token) {\n          console.error(\"No token found in response:\", data);\n          toast.error(\"토큰을 받지 못했습니다.\");\n          return;\n        }\n\n        localStorage.setItem(\"token\", token);\n        console.log(\"Token stored in localStorage\");\n\n        // 저장된 토큰 확인\n        const storedToken = localStorage.getItem(\"token\");\n        console.log(\"Stored token verification:\", storedToken);\n\n        await fetchCurrentUser();\n        toast.success(\"로그인 성공!\");\n        navigate(\"/me\");\n      } else {\n        toast.error(data.message || \"로그인 실패\");\n      }\n    } catch (error) {\n      console.error(\"Login error:\", error);\n      toast.error(\"로그인 중 오류가 발생했습니다.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const register = async (email, username, password) => {\n    setLoading(true);\n    try {\n      const response = await fetch(\"http://localhost:3001/api/auth/register\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email, username, password }),\n      });\n      const data = await response.json();\n      if (response.ok) {\n        toast.success(\"회원가입 성공! 로그인해주세요.\");\n        navigate(\"/login\");\n      } else {\n        toast.error(data.message || \"회원가입 실패\");\n      }\n    } catch (error) {\n      toast.error(\"회원가입 중 오류가 발생했습니다.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const logout = () => {\n    localStorage.removeItem(\"token\");\n    setUser(null);\n    toast.success(\"로그아웃되었습니다.\");\n    navigate(\"/login\");\n  };\n\n  return (\n    <AuthContext.Provider\n      value={{ user, loading, login, logout, register, fetchCurrentUser }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\n// ApplicationForm 컴포넌트\nconst ApplicationForm = ({\n  questions,\n  onSubmit,\n  onCancel,\n  loading = false,\n}) => {\n  console.log(\"ApplicationForm questions:\", questions);\n  console.log(\"ApplicationForm questions length:\", questions?.length);\n  console.log(\"ApplicationForm questions type:\", typeof questions);\n  console.log(\"First question:\", questions?.[0]);\n  console.log(\"First question type:\", questions?.[0]?.type);\n  console.log(\"First question question:\", questions?.[0]?.question);\n\n  if (!questions || questions.length === 0) {\n    return <div>질문이 없습니다.</div>;\n  }\n\n  const handleSubmit = async (values) => {\n    console.log(\"handleSubmit called with values:\", values);\n    try {\n      // values는 이미 검증된 폼 데이터입니다\n      console.log(\"Form values:\", values);\n      console.log(\"Form values type:\", typeof values);\n      console.log(\"Form values keys:\", Object.keys(values));\n      console.log(\"Form values length:\", Object.keys(values).length);\n      console.log(\"Calling onSubmit with values:\", values);\n      onSubmit(values);\n    } catch (error) {\n      console.error(\"Form submission error:\", error);\n      toast.error(\"폼 제출 중 오류가 발생했습니다.\");\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n        <h2 className=\"text-xl font-bold mb-4\">스터디 지원서</h2>\n        <form\n          onSubmit={(e) => {\n            e.preventDefault();\n            const formData = new FormData(e.target);\n            const values = {};\n            for (let [key, value] of formData.entries()) {\n              values[key] = value;\n            }\n            handleSubmit(values);\n          }}\n        >\n          {questions.map((question, index) => (\n            <div key={index} className=\"mb-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                {question.questionText || question.question}\n                {question.required && <span className=\"text-red-500\"> *</span>}\n              </label>\n\n              {(question.type === \"text\" ||\n                question.type === \"short_answer\") && (\n                <input\n                  type=\"text\"\n                  name={`question_${index}`}\n                  required={question.required}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n                  placeholder=\"답변을 입력하세요\"\n                />\n              )}\n\n              {question.type === \"textarea\" && (\n                <textarea\n                  name={`question_${index}`}\n                  required={question.required}\n                  rows={4}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n                  placeholder=\"답변을 입력하세요\"\n                />\n              )}\n\n              {question.type === \"radio\" && question.options && (\n                <div className=\"space-y-2\">\n                  {question.options.map((option, optionIndex) => (\n                    <label key={optionIndex} className=\"flex items-center\">\n                      <input\n                        type=\"radio\"\n                        name={`question_${index}`}\n                        value={option}\n                        required={question.required}\n                        className=\"mr-2\"\n                      />\n                      {option}\n                    </label>\n                  ))}\n                </div>\n              )}\n\n              {question.type === \"checkbox\" && question.options && (\n                <div className=\"space-y-2\">\n                  {question.options.map((option, optionIndex) => (\n                    <label key={optionIndex} className=\"flex items-center\">\n                      <input\n                        type=\"checkbox\"\n                        name={`question_${index}`}\n                        value={option}\n                        className=\"mr-2\"\n                      />\n                      {option}\n                    </label>\n                  ))}\n                </div>\n              )}\n            </div>\n          ))}\n\n          <div className=\"flex justify-end space-x-3 mt-6\">\n            <button\n              type=\"button\"\n              onClick={onCancel}\n              className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50\"\n            >\n              취소\n            </button>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              onClick={() => console.log(\"Submit button clicked\")}\n              className=\"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50\"\n            >\n              {loading ? \"처리 중...\" : \"지원하기\"}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nconst LoginForm = () => {\n  const { login, loading } = useAuth();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    await login(email, password);\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div>\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n            StudyGroup에 로그인\n          </h2>\n          <p className=\"mt-2 text-center text-sm text-gray-600\">\n            또는{\" \"}\n            <Link\n              to=\"/register\"\n              className=\"font-medium text-indigo-600 hover:text-indigo-500\"\n            >\n              새 계정 만들기\n            </Link>\n          </p>\n        </div>\n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n          <div className=\"rounded-md shadow-sm -space-y-px\">\n            <div>\n              <input\n                type=\"email\"\n                required\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\n                placeholder=\"이메일 주소\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n              />\n            </div>\n            <div>\n              <input\n                type=\"password\"\n                required\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\n                placeholder=\"비밀번호\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n              />\n            </div>\n          </div>\n\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50\"\n          >\n            {loading ? \"로그인 중...\" : \"로그인\"}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nconst RegisterForm = () => {\n  const { register, loading } = useAuth();\n  const [formData, setFormData] = useState({\n    email: \"\",\n    username: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n  });\n  const [errors, setErrors] = useState({});\n\n  const validateForm = () => {\n    const newErrors = {};\n    if (!formData.email) newErrors.email = \"이메일을 입력해주세요.\";\n    if (!formData.username) newErrors.username = \"사용자명을 입력해주세요.\";\n    if (!formData.password) newErrors.password = \"비밀번호를 입력해주세요.\";\n    if (formData.password !== formData.confirmPassword) {\n      newErrors.confirmPassword = \"비밀번호가 일치하지 않습니다.\";\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!validateForm()) return;\n    await register(formData.email, formData.username, formData.password);\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value });\n    if (errors[name]) setErrors({ ...errors, [name]: \"\" });\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div>\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n            StudyGroup 회원가입\n          </h2>\n          <p className=\"mt-2 text-center text-sm text-gray-600\">\n            또는{\" \"}\n            <Link\n              to=\"/login\"\n              className=\"font-medium text-indigo-600 hover:text-indigo-500\"\n            >\n              기존 계정으로 로그인\n            </Link>\n          </p>\n        </div>\n\n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n          <div className=\"space-y-4\">\n            <div>\n              <label\n                htmlFor=\"email\"\n                className=\"block text-sm font-medium text-gray-700\"\n              >\n                이메일 주소\n              </label>\n              <input\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                required\n                className={`mt-1 block w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${\n                  errors.email ? \"border-red-500\" : \"border-gray-300\"\n                }`}\n                value={formData.email}\n                onChange={handleChange}\n              />\n              {errors.email && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.email}</p>\n              )}\n            </div>\n\n            <div>\n              <label\n                htmlFor=\"username\"\n                className=\"block text-sm font-medium text-gray-700\"\n              >\n                사용자명\n              </label>\n              <input\n                id=\"username\"\n                name=\"username\"\n                type=\"text\"\n                required\n                className={`mt-1 block w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${\n                  errors.username ? \"border-red-500\" : \"border-gray-300\"\n                }`}\n                value={formData.username}\n                onChange={handleChange}\n              />\n              {errors.username && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.username}</p>\n              )}\n            </div>\n\n            <div>\n              <label\n                htmlFor=\"password\"\n                className=\"block text-sm font-medium text-gray-700\"\n              >\n                비밀번호\n              </label>\n              <input\n                id=\"password\"\n                name=\"password\"\n                type=\"password\"\n                required\n                className={`mt-1 block w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${\n                  errors.password ? \"border-red-500\" : \"border-gray-300\"\n                }`}\n                value={formData.password}\n                onChange={handleChange}\n              />\n              {errors.password && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.password}</p>\n              )}\n            </div>\n\n            <div>\n              <label\n                htmlFor=\"confirmPassword\"\n                className=\"block text-sm font-medium text-gray-700\"\n              >\n                비밀번호 확인\n              </label>\n              <input\n                id=\"confirmPassword\"\n                name=\"confirmPassword\"\n                type=\"password\"\n                required\n                className={`mt-1 block w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${\n                  errors.confirmPassword ? \"border-red-500\" : \"border-gray-300\"\n                }`}\n                value={formData.confirmPassword}\n                onChange={handleChange}\n              />\n              {errors.confirmPassword && (\n                <p className=\"mt-1 text-sm text-red-600\">\n                  {errors.confirmPassword}\n                </p>\n              )}\n            </div>\n          </div>\n\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50\"\n          >\n            {loading ? \"회원가입 중...\" : \"회원가입\"}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nconst UserProfile = () => {\n  const { user } = useAuth();\n\n  return (\n    <div className=\"max-w-4xl mx-auto py-6 sm:px-6 lg:px-8\">\n      <div className=\"px-4 py-6 sm:px-0\">\n        <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div className=\"px-4 py-5 sm:p-6\">\n            <div className=\"flex items-center space-x-4 mb-6\">\n              <div className=\"h-16 w-16 bg-indigo-600 rounded-full flex items-center justify-center\">\n                <span className=\"text-white text-xl font-bold\">\n                  {user?.username?.charAt(0).toUpperCase()}\n                </span>\n              </div>\n              <div>\n                <h1 className=\"text-2xl font-bold text-gray-900\">\n                  {user?.username}\n                </h1>\n                <p className=\"text-gray-600\">{user?.email}</p>\n              </div>\n            </div>\n\n            <div className=\"border-t border-gray-200 pt-6\">\n              <dl className=\"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2\">\n                <div>\n                  <dt className=\"text-sm font-medium text-gray-500\">\n                    사용자명\n                  </dt>\n                  <dd className=\"mt-1 text-sm text-gray-900\">\n                    {user?.username}\n                  </dd>\n                </div>\n                <div>\n                  <dt className=\"text-sm font-medium text-gray-500\">이메일</dt>\n                  <dd className=\"mt-1 text-sm text-gray-900\">{user?.email}</dd>\n                </div>\n                <div>\n                  <dt className=\"text-sm font-medium text-gray-500\">역할</dt>\n                  <dd className=\"mt-1 text-sm text-gray-900\">\n                    {user?.role || \"일반 사용자\"}\n                  </dd>\n                </div>\n                <div>\n                  <dt className=\"text-sm font-medium text-gray-500\">\n                    가입 방식\n                  </dt>\n                  <dd className=\"mt-1 text-sm text-gray-900\">\n                    {user?.provider || \"이메일\"}\n                  </dd>\n                </div>\n              </dl>\n            </div>\n\n            <div className=\"mt-8 flex space-x-4\">\n              <button className=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\">\n                프로필 수정\n              </button>\n              <button className=\"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700\">\n                비밀번호 변경\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst CreateStudy = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [formData, setFormData] = useState({\n    title: \"\",\n    description: \"\",\n    category: \"\",\n    mode: \"\",\n    location: \"\",\n    recruitNumber: 1,\n    studyStartDate: \"\",\n    studyEndDate: \"\",\n  });\n  const [errors, setErrors] = useState({});\n\n  // Request form state\n  const [showRequestForm, setShowRequestForm] = useState(false);\n  const [requestFormData, setRequestFormData] = useState({\n    title: \"스터디 지원 양식\",\n    questions: [],\n  });\n  const [requestFormErrors, setRequestFormErrors] = useState({});\n\n  const validateForm = () => {\n    const newErrors = {};\n    if (!formData.title.trim()) newErrors.title = \"스터디 제목을 입력해주세요.\";\n    if (!formData.description.trim())\n      newErrors.description = \"스터디 내용을 입력해주세요.\";\n    if (!formData.category) newErrors.category = \"스터디 분류를 선택해주세요.\";\n    if (!formData.mode) newErrors.mode = \"스터디 모드를 선택해주세요.\";\n    if (formData.recruitNumber < 1)\n      newErrors.recruitNumber = \"모집 인원은 1명 이상이어야 합니다.\";\n    if (\n      formData.studyStartDate &&\n      formData.studyEndDate &&\n      new Date(formData.studyStartDate) > new Date(formData.studyEndDate)\n    ) {\n      newErrors.studyEndDate = \"종료일은 시작일보다 늦어야 합니다.\";\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const validateRequestForm = () => {\n    const newErrors = {};\n    if (!requestFormData.title.trim())\n      newErrors.title = \"양식 제목을 입력해주세요.\";\n    if (requestFormData.questions.length === 0)\n      newErrors.questions = \"최소 하나의 질문을 추가해주세요.\";\n\n    // Validate each question\n    requestFormData.questions.forEach((question, index) => {\n      if (!question.questionText.trim()) {\n        newErrors[`question_${index}`] = \"질문 내용을 입력해주세요.\";\n      }\n\n      // 체크박스나 객관식 선택형인 경우 옵션이 필요\n      if (\n        (question.type === \"checkbox\" || question.type === \"multiple_choice\") &&\n        (!question.options || question.options.length === 0)\n      ) {\n        newErrors[`question_${index}_options`] =\n          `${question.type === \"checkbox\" ? \"체크박스\" : \"객관식\"} 옵션을 최소 하나 추가해주세요.`;\n      }\n\n      // 옵션이 있는 경우 빈 옵션이 있는지 확인\n      if (question.options && question.options.length > 0) {\n        const emptyOptions = question.options.filter(\n          (option) => !option.trim(),\n        );\n        if (emptyOptions.length > 0) {\n          newErrors[`question_${index}_options`] =\n            \"빈 옵션이 있습니다. 모든 옵션을 입력해주세요.\";\n        }\n      }\n    });\n\n    setRequestFormErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!validateForm()) return;\n\n    // Validate request form if it's enabled\n    if (showRequestForm && !validateRequestForm()) return;\n\n    setLoading(true);\n    try {\n      // First, create the study\n      const studyResponse = await fetch(\"http://localhost:3001/api/post\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n        body: JSON.stringify({\n          ...formData,\n          recruitNumber: parseInt(formData.recruitNumber),\n          studyStartDate: formData.studyStartDate || null,\n          studyEndDate: formData.studyEndDate || null,\n        }),\n      });\n\n      const studyData = await studyResponse.json();\n\n      if (studyResponse.ok) {\n        // If request form is enabled, create it\n        if (showRequestForm && requestFormData.questions.length > 0) {\n          // Post가 완전히 저장될 때까지 잠시 대기\n          await new Promise((resolve) => setTimeout(resolve, 1000));\n\n          try {\n            const formResponse = await fetch(\n              \"http://localhost:3001/api/requestform\",\n              {\n                method: \"POST\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                },\n                body: JSON.stringify({\n                  postId: studyData.data.id,\n                  title: requestFormData.title,\n                  questions: requestFormData.questions.map((q, index) => ({\n                    questionText: q.questionText,\n                    type: q.type,\n                    isRequired: q.isRequired,\n                    order: index + 1,\n                    options: q.options || [],\n                  })),\n                }),\n              },\n            );\n\n            if (formResponse.ok) {\n              toast.success(\"스터디와 지원 양식이 성공적으로 생성되었습니다!\");\n            } else {\n              toast.success(\n                \"스터디가 생성되었지만 지원 양식 생성에 실패했습니다.\",\n              );\n            }\n          } catch (formError) {\n            console.error(\"Create request form error:\", formError);\n            toast.success(\n              \"스터디가 생성되었지만 지원 양식 생성에 실패했습니다.\",\n            );\n          }\n        } else {\n          toast.success(\"스터디가 성공적으로 생성되었습니다!\");\n        }\n        navigate(\"/studies\");\n      } else {\n        toast.error(studyData.message || \"스터디 생성에 실패했습니다.\");\n      }\n    } catch (error) {\n      console.error(\"Create study error:\", error);\n      toast.error(\"스터디 생성 중 오류가 발생했습니다.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value });\n    if (errors[name]) setErrors({ ...errors, [name]: \"\" });\n  };\n\n  // Request form helper functions\n  const addQuestion = () => {\n    setRequestFormData({\n      ...requestFormData,\n      questions: [\n        ...requestFormData.questions,\n        {\n          questionText: \"\",\n          type: \"short_answer\",\n          isRequired: true,\n          options: [],\n        },\n      ],\n    });\n  };\n\n  const removeQuestion = (index) => {\n    const newQuestions = requestFormData.questions.filter(\n      (_, i) => i !== index,\n    );\n    setRequestFormData({\n      ...requestFormData,\n      questions: newQuestions,\n    });\n  };\n\n  const updateQuestion = (index, field, value) => {\n    const newQuestions = [...requestFormData.questions];\n    newQuestions[index] = { ...newQuestions[index], [field]: value };\n    setRequestFormData({\n      ...requestFormData,\n      questions: newQuestions,\n    });\n  };\n\n  const handleRequestFormChange = (e) => {\n    const { name, value } = e.target;\n    setRequestFormData({ ...requestFormData, [name]: value });\n    if (requestFormErrors[name])\n      setRequestFormErrors({ ...requestFormErrors, [name]: \"\" });\n  };\n\n  const addOption = (questionIndex) => {\n    const newQuestions = [...requestFormData.questions];\n    if (!newQuestions[questionIndex].options) {\n      newQuestions[questionIndex].options = [];\n    }\n    newQuestions[questionIndex].options.push(\"\");\n    setRequestFormData({\n      ...requestFormData,\n      questions: newQuestions,\n    });\n  };\n\n  const removeOption = (questionIndex, optionIndex) => {\n    const newQuestions = [...requestFormData.questions];\n    newQuestions[questionIndex].options.splice(optionIndex, 1);\n    setRequestFormData({\n      ...requestFormData,\n      questions: newQuestions,\n    });\n  };\n\n  const updateOption = (questionIndex, optionIndex, value) => {\n    const newQuestions = [...requestFormData.questions];\n    newQuestions[questionIndex].options[optionIndex] = value;\n    setRequestFormData({\n      ...requestFormData,\n      questions: newQuestions,\n    });\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto py-6 sm:px-6 lg:px-8\">\n      <div className=\"px-4 py-6 sm:px-0\">\n        <div className=\"bg-white shadow rounded-lg\">\n          <div className=\"px-4 py-5 sm:p-6\">\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-8\">\n              새 스터디 만들기\n            </h1>\n\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2\">\n                <div className=\"sm:col-span-2\">\n                  <label\n                    htmlFor=\"title\"\n                    className=\"block text-sm font-medium text-gray-700\"\n                  >\n                    스터디 제목 *\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"title\"\n                    name=\"title\"\n                    required\n                    className={`mt-1 block w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${\n                      errors.title ? \"border-red-500\" : \"border-gray-300\"\n                    }`}\n                    value={formData.title}\n                    onChange={handleChange}\n                    placeholder=\"스터디 제목을 입력하세요\"\n                  />\n                  {errors.title && (\n                    <p className=\"mt-1 text-sm text-red-600\">{errors.title}</p>\n                  )}\n                </div>\n\n                <div className=\"sm:col-span-2\">\n                  <label\n                    htmlFor=\"description\"\n                    className=\"block text-sm font-medium text-gray-700\"\n                  >\n                    스터디 내용 *\n                  </label>\n                  <textarea\n                    id=\"description\"\n                    name=\"description\"\n                    rows={4}\n                    required\n                    className={`mt-1 block w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${\n                      errors.description ? \"border-red-500\" : \"border-gray-300\"\n                    }`}\n                    value={formData.description}\n                    onChange={handleChange}\n                    placeholder=\"스터디에 대한 자세한 설명을 입력하세요\"\n                  />\n                  {errors.description && (\n                    <p className=\"mt-1 text-sm text-red-600\">\n                      {errors.description}\n                    </p>\n                  )}\n                </div>\n\n                <div>\n                  <label\n                    htmlFor=\"category\"\n                    className=\"block text-sm font-medium text-gray-700\"\n                  >\n                    스터디 분류 *\n                  </label>\n                  <select\n                    id=\"category\"\n                    name=\"category\"\n                    required\n                    className={`mt-1 block w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${\n                      errors.category ? \"border-red-500\" : \"border-gray-300\"\n                    }`}\n                    value={formData.category}\n                    onChange={handleChange}\n                  >\n                    <option value=\"\">분류를 선택하세요</option>\n                    <option value=\"프로그래밍\">프로그래밍</option>\n                    <option value=\"언어\">언어</option>\n                    <option value=\"자격증\">자격증</option>\n                    <option value=\"취업준비\">취업준비</option>\n                    <option value=\"기타\">기타</option>\n                  </select>\n                  {errors.category && (\n                    <p className=\"mt-1 text-sm text-red-600\">\n                      {errors.category}\n                    </p>\n                  )}\n                </div>\n\n                <div>\n                  <label\n                    htmlFor=\"mode\"\n                    className=\"block text-sm font-medium text-gray-700\"\n                  >\n                    스터디 모드 *\n                  </label>\n                  <select\n                    id=\"mode\"\n                    name=\"mode\"\n                    required\n                    className={`mt-1 block w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${\n                      errors.mode ? \"border-red-500\" : \"border-gray-300\"\n                    }`}\n                    value={formData.mode}\n                    onChange={handleChange}\n                  >\n                    <option value=\"\">모드를 선택하세요</option>\n                    <option value=\"온라인\">온라인</option>\n                    <option value=\"오프라인\">오프라인</option>\n                    <option value=\"하이브리드\">하이브리드</option>\n                  </select>\n                  {errors.mode && (\n                    <p className=\"mt-1 text-sm text-red-600\">{errors.mode}</p>\n                  )}\n                </div>\n\n                <div>\n                  <label\n                    htmlFor=\"location\"\n                    className=\"block text-sm font-medium text-gray-700\"\n                  >\n                    스터디 위치\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"location\"\n                    name=\"location\"\n                    className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                    value={formData.location}\n                    onChange={handleChange}\n                    placeholder=\"스터디 장소 (선택사항)\"\n                  />\n                </div>\n\n                <div>\n                  <label\n                    htmlFor=\"recruitNumber\"\n                    className=\"block text-sm font-medium text-gray-700\"\n                  >\n                    모집 인원 *\n                  </label>\n                  <input\n                    type=\"number\"\n                    id=\"recruitNumber\"\n                    name=\"recruitNumber\"\n                    min=\"1\"\n                    max=\"50\"\n                    required\n                    className={`mt-1 block w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${\n                      errors.recruitNumber\n                        ? \"border-red-500\"\n                        : \"border-gray-300\"\n                    }`}\n                    value={formData.recruitNumber}\n                    onChange={handleChange}\n                  />\n                  {errors.recruitNumber && (\n                    <p className=\"mt-1 text-sm text-red-600\">\n                      {errors.recruitNumber}\n                    </p>\n                  )}\n                </div>\n\n                <div>\n                  <label\n                    htmlFor=\"studyStartDate\"\n                    className=\"block text-sm font-medium text-gray-700\"\n                  >\n                    스터디 시작일\n                  </label>\n                  <input\n                    type=\"date\"\n                    id=\"studyStartDate\"\n                    name=\"studyStartDate\"\n                    className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                    value={formData.studyStartDate}\n                    onChange={handleChange}\n                  />\n                </div>\n\n                <div>\n                  <label\n                    htmlFor=\"studyEndDate\"\n                    className=\"block text-sm font-medium text-gray-700\"\n                  >\n                    스터디 종료일\n                  </label>\n                  <input\n                    type=\"date\"\n                    id=\"studyEndDate\"\n                    name=\"studyEndDate\"\n                    className={`mt-1 block w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${\n                      errors.studyEndDate ? \"border-red-500\" : \"border-gray-300\"\n                    }`}\n                    value={formData.studyEndDate}\n                    onChange={handleChange}\n                  />\n                  {errors.studyEndDate && (\n                    <p className=\"mt-1 text-sm text-red-600\">\n                      {errors.studyEndDate}\n                    </p>\n                  )}\n                </div>\n              </div>\n\n              {/* Request Form Section */}\n              <div className=\"border-t pt-6\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"text-lg font-medium text-gray-900\">\n                    지원 양식 설정\n                  </h3>\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowRequestForm(!showRequestForm)}\n                    className=\"text-sm text-indigo-600 hover:text-indigo-500\"\n                  >\n                    {showRequestForm ? \"양식 숨기기\" : \"양식 추가하기\"}\n                  </button>\n                </div>\n\n                {showRequestForm && (\n                  <div className=\"bg-gray-50 p-4 rounded-lg\">\n                    <div className=\"mb-4\">\n                      <label\n                        htmlFor=\"formTitle\"\n                        className=\"block text-sm font-medium text-gray-700 mb-2\"\n                      >\n                        양식 제목\n                      </label>\n                      <input\n                        type=\"text\"\n                        id=\"formTitle\"\n                        name=\"title\"\n                        className={`block w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${\n                          requestFormErrors.title\n                            ? \"border-red-500\"\n                            : \"border-gray-300\"\n                        }`}\n                        value={requestFormData.title}\n                        onChange={handleRequestFormChange}\n                        placeholder=\"지원 양식 제목을 입력하세요\"\n                      />\n                      {requestFormErrors.title && (\n                        <p className=\"mt-1 text-sm text-red-600\">\n                          {requestFormErrors.title}\n                        </p>\n                      )}\n                    </div>\n\n                    <div className=\"mb-4\">\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <label className=\"block text-sm font-medium text-gray-700\">\n                          질문 목록\n                        </label>\n                        <button\n                          type=\"button\"\n                          onClick={addQuestion}\n                          className=\"text-sm bg-indigo-600 text-white px-3 py-1 rounded hover:bg-indigo-700\"\n                        >\n                          질문 추가\n                        </button>\n                      </div>\n\n                      {requestFormErrors.questions && (\n                        <p className=\"text-sm text-red-600 mb-2\">\n                          {requestFormErrors.questions}\n                        </p>\n                      )}\n\n                      {requestFormData.questions.map((question, index) => (\n                        <div\n                          key={index}\n                          className=\"bg-white p-4 rounded border mb-3\"\n                        >\n                          <div className=\"flex items-center justify-between mb-2\">\n                            <span className=\"text-sm font-medium text-gray-700\">\n                              질문 {index + 1}\n                            </span>\n                            <button\n                              type=\"button\"\n                              onClick={() => removeQuestion(index)}\n                              className=\"text-red-600 hover:text-red-800 text-sm\"\n                            >\n                              삭제\n                            </button>\n                          </div>\n\n                          <div className=\"grid grid-cols-1 gap-3\">\n                            <div>\n                              <label className=\"block text-sm text-gray-600 mb-1\">\n                                질문 내용\n                              </label>\n                              <input\n                                type=\"text\"\n                                className={`block w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${\n                                  requestFormErrors[`question_${index}`]\n                                    ? \"border-red-500\"\n                                    : \"border-gray-300\"\n                                }`}\n                                value={question.questionText}\n                                onChange={(e) =>\n                                  updateQuestion(\n                                    index,\n                                    \"questionText\",\n                                    e.target.value,\n                                  )\n                                }\n                                placeholder=\"질문을 입력하세요\"\n                              />\n                              {requestFormErrors[`question_${index}`] && (\n                                <p className=\"mt-1 text-sm text-red-600\">\n                                  {requestFormErrors[`question_${index}`]}\n                                </p>\n                              )}\n                            </div>\n\n                            <div className=\"grid grid-cols-2 gap-3\">\n                              <div>\n                                <label className=\"block text-sm text-gray-600 mb-1\">\n                                  답변 유형\n                                </label>\n                                <select\n                                  className=\"block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                                  value={question.type}\n                                  onChange={(e) =>\n                                    updateQuestion(\n                                      index,\n                                      \"type\",\n                                      e.target.value,\n                                    )\n                                  }\n                                >\n                                  <option value=\"short_answer\">단답형</option>\n                                  <option value=\"long_answer\">장문형</option>\n                                  <option value=\"checkbox\">체크박스</option>\n                                  <option value=\"multiple_choice\">\n                                    객관식 선택형\n                                  </option>\n                                </select>\n                              </div>\n\n                              <div className=\"flex items-center\">\n                                <input\n                                  type=\"checkbox\"\n                                  id={`required_${index}`}\n                                  className=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"\n                                  checked={question.isRequired}\n                                  onChange={(e) =>\n                                    updateQuestion(\n                                      index,\n                                      \"isRequired\",\n                                      e.target.checked,\n                                    )\n                                  }\n                                />\n                                <label\n                                  htmlFor={`required_${index}`}\n                                  className=\"ml-2 block text-sm text-gray-700\"\n                                >\n                                  필수 답변\n                                </label>\n                              </div>\n                            </div>\n\n                            {/* 선택 옵션 관리 (체크박스, 객관식 선택형인 경우) */}\n                            {(question.type === \"checkbox\" ||\n                              question.type === \"multiple_choice\") && (\n                              <div className=\"mt-4\">\n                                <div className=\"flex items-center justify-between mb-2\">\n                                  <label className=\"block text-sm font-medium text-gray-700\">\n                                    선택 옵션\n                                  </label>\n                                  <button\n                                    type=\"button\"\n                                    onClick={() => addOption(index)}\n                                    className=\"text-sm bg-green-600 text-white px-2 py-1 rounded hover:bg-green-700\"\n                                  >\n                                    옵션 추가\n                                  </button>\n                                </div>\n\n                                {(!question.options ||\n                                  question.options.length === 0) && (\n                                  <p className=\"text-sm text-gray-500 mb-2\">\n                                    {question.type === \"checkbox\"\n                                      ? \"체크박스\"\n                                      : \"객관식\"}{\" \"}\n                                    옵션을 추가해주세요.\n                                  </p>\n                                )}\n\n                                {question.options &&\n                                  question.options.map(\n                                    (option, optionIndex) => (\n                                      <div\n                                        key={optionIndex}\n                                        className=\"flex items-center space-x-2 mb-2\"\n                                      >\n                                        <input\n                                          type=\"text\"\n                                          className=\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                                          value={option}\n                                          onChange={(e) =>\n                                            updateOption(\n                                              index,\n                                              optionIndex,\n                                              e.target.value,\n                                            )\n                                          }\n                                          placeholder={`옵션 ${optionIndex + 1}`}\n                                        />\n                                        <button\n                                          type=\"button\"\n                                          onClick={() =>\n                                            removeOption(index, optionIndex)\n                                          }\n                                          className=\"text-red-600 hover:text-red-800 text-sm px-2 py-1\"\n                                        >\n                                          삭제\n                                        </button>\n                                      </div>\n                                    ),\n                                  )}\n\n                                {requestFormErrors[\n                                  `question_${index}_options`\n                                ] && (\n                                  <p className=\"mt-1 text-sm text-red-600\">\n                                    {\n                                      requestFormErrors[\n                                        `question_${index}_options`\n                                      ]\n                                    }\n                                  </p>\n                                )}\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              <div className=\"flex justify-end space-x-4 pt-6\">\n                <button\n                  type=\"button\"\n                  onClick={() => navigate(\"/studies\")}\n                  className=\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n                >\n                  취소\n                </button>\n                <button\n                  type=\"submit\"\n                  disabled={loading}\n                  className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50\"\n                >\n                  {loading ? \"생성 중...\" : \"스터디 생성\"}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst Header = () => {\n  const { user, logout } = useAuth();\n\n  return (\n    <header className=\"bg-white shadow\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex justify-between h-16\">\n          <div className=\"flex items-center space-x-8\">\n            <Link to=\"/\" className=\"text-xl font-bold text-gray-900\">\n              StudyGroup\n            </Link>\n            <nav className=\"flex space-x-4\">\n              <Link\n                to=\"/\"\n                className=\"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium\"\n              >\n                홈\n              </Link>\n              <Link\n                to=\"/studies\"\n                className=\"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium\"\n              >\n                스터디 목록\n              </Link>\n            </nav>\n          </div>\n          <div className=\"flex items-center space-x-4\">\n            <Link\n              to=\"/me\"\n              className=\"text-gray-700 hover:text-indigo-600 font-medium\"\n            >\n              안녕하세요, {user?.username || \"사용자\"}님!\n            </Link>\n            <button\n              onClick={logout}\n              className=\"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700\"\n            >\n              로그아웃\n            </button>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nconst Home = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [myStudies, setMyStudies] = useState([]);\n  const [myApplications, setMyApplications] = useState([]);\n  const [myMemberships, setMyMemberships] = useState([]);\n  const [myMemberStudies, setMyMemberStudies] = useState([]);\n  const [myLeaderStudies, setMyLeaderStudies] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (user) {\n      fetchUserStudies();\n    }\n  }, [user]);\n\n  const fetchUserStudies = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem(\"token\");\n\n      // 내가 만든 스터디 (post에서 author가 나인 것들)\n      const myStudiesResponse = await fetch(\n        \"http://localhost:3001/api/post/user/my-studies\",\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        },\n      );\n      if (myStudiesResponse.ok) {\n        const myStudiesData = await myStudiesResponse.json();\n        console.log(\"My studies data:\", myStudiesData);\n        setMyStudies(myStudiesData);\n      }\n\n      // 내가 지원한 스터디\n      const applicationsResponse = await fetch(\n        \"http://localhost:3001/api/post/applications\",\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        },\n      );\n      if (applicationsResponse.ok) {\n        const applicationsData = await applicationsResponse.json();\n        console.log(\"Applications data:\", applicationsData);\n        setMyApplications(applicationsData);\n      }\n\n      // 내가 멤버로 있는 스터디 (memberships)\n      const membershipsResponse = await fetch(\n        \"http://localhost:3001/api/post/memberships\",\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        },\n      );\n      if (membershipsResponse.ok) {\n        const membershipsData = await membershipsResponse.json();\n        console.log(\"Memberships data:\", membershipsData);\n        setMyMemberships(membershipsData);\n      }\n\n      // 내가 멤버로 참여하는 운영스터디 (member-studies)\n      const memberStudiesResponse = await fetch(\n        \"http://localhost:3001/api/post/member-studies\",\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        },\n      );\n      if (memberStudiesResponse.ok) {\n        const memberStudiesData = await memberStudiesResponse.json();\n        console.log(\"Member studies data:\", memberStudiesData);\n        setMyMemberStudies(memberStudiesData);\n      }\n\n      // 내가 리더로 있는 스터디\n      const leaderStudiesResponse = await fetch(\n        \"http://localhost:3001/api/post/leader-studies\",\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        },\n      );\n      if (leaderStudiesResponse.ok) {\n        const leaderStudiesData = await leaderStudiesResponse.json();\n        console.log(\"Leader studies data:\", leaderStudiesData);\n        setMyLeaderStudies(leaderStudiesData);\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch user studies:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return \"미정\";\n    return new Date(dateString).toLocaleDateString(\"ko-KR\");\n  };\n\n  const getStatusBadge = (study) => {\n    if (study?.isClosed) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\n          모집 완료\n        </span>\n      );\n    }\n    if (study?.currentNumber >= study?.recruitNumber) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\">\n          인원 마감\n        </span>\n      );\n    }\n    return (\n      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n        모집 중\n      </span>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"flex justify-center\">\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // user가 null인 경우 로딩 상태 표시\n  if (!user) {\n    return (\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"flex justify-center\">\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n      <div className=\"px-4 py-6 sm:px-0\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-8\">\n          StudyGroup에 오신 것을 환영합니다!\n        </h1>\n        <p className=\"text-lg text-gray-600 mb-8\">\n          안녕하세요, {user.username}님!\n        </p>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6\">\n          {/* 내가 만든 스터디 */}\n          <div\n            className=\"bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow\"\n            onClick={() => navigate(\"/my-studies\")}\n          >\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-4 flex items-center\">\n              <span className=\"bg-blue-100 text-blue-800 p-2 rounded-full mr-3\">\n                👑\n              </span>\n              내가 만든 스터디 (\n              {Array.isArray(myStudies?.data?.data)\n                ? myStudies.data.data.length\n                : 0}\n              )\n            </h2>\n            <p className=\"text-gray-500 text-sm\">클릭하여 자세히 보기</p>\n          </div>\n\n          {/* 내가 지원한 스터디 */}\n          <div\n            className=\"bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow\"\n            onClick={() => navigate(\"/my-applications\")}\n          >\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-4 flex items-center\">\n              <span className=\"bg-yellow-100 text-yellow-800 p-2 rounded-full mr-3\">\n                📝\n              </span>\n              내가 지원한 스터디 (\n              {Array.isArray(myApplications?.data?.data)\n                ? myApplications.data.data.length\n                : 0}\n              )\n            </h2>\n            <p className=\"text-gray-500 text-sm\">클릭하여 자세히 보기</p>\n          </div>\n\n          {/* 내가 멤버로 있는 스터디 */}\n          <div\n            className=\"bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow\"\n            onClick={() => navigate(\"/my-member-studies\")}\n          >\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-4 flex items-center\">\n              <span className=\"bg-green-100 text-green-800 p-2 rounded-full mr-3\">\n                👥\n              </span>\n              내가 멤버로 참여하는 운영스터디 (\n              {Array.isArray(myMemberStudies?.data?.data)\n                ? myMemberStudies.data.data.length\n                : 0}\n              )\n            </h2>\n            <p className=\"text-gray-500 text-sm\">클릭하여 자세히 보기</p>\n          </div>\n\n          {/* 내가 리더로 있는 스터디 */}\n          <div\n            className=\"bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow\"\n            onClick={() => navigate(\"/my-leader-studies\")}\n          >\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-4 flex items-center\">\n              <span className=\"bg-purple-100 text-purple-800 p-2 rounded-full mr-3\">\n                🎯\n              </span>\n              내가 리더로 참여하는 운영스터디 (\n              {Array.isArray(myLeaderStudies?.data?.data)\n                ? myLeaderStudies.data.data.length\n                : 0}\n              )\n            </h2>\n            <p className=\"text-gray-500 text-sm\">클릭하여 자세히 보기</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst StudyList = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [studies, setStudies] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\n  const [selectedMode, setSelectedMode] = useState(\"\");\n  const [selectedStatus, setSelectedStatus] = useState(\"\");\n  const [selectedLocation, setSelectedLocation] = useState(\"\");\n  const [minMembers, setMinMembers] = useState(\"\");\n  const [maxMembers, setMaxMembers] = useState(\"\");\n  const [showAdvancedFilters, setShowAdvancedFilters] = useState(false);\n  const [searchHistory, setSearchHistory] = useState([]);\n  const [showSearchHistory, setShowSearchHistory] = useState(false);\n  const [debouncedSearchTerm, setDebouncedSearchTerm] = useState(\"\");\n  const [sortBy, setSortBy] = useState(\"createdAt\");\n  const [sortOrder, setSortOrder] = useState(\"desc\");\n  const [savedSearches, setSavedSearches] = useState([]);\n  const [showSavedSearches, setShowSavedSearches] = useState(false);\n\n  useEffect(() => {\n    fetchStudies();\n    // Load search history from localStorage\n    const savedHistory = localStorage.getItem(\"studySearchHistory\");\n    if (savedHistory) {\n      setSearchHistory(JSON.parse(savedHistory));\n    }\n\n    // Load search preferences from localStorage\n    const savedPreferences = localStorage.getItem(\"studySearchPreferences\");\n    if (savedPreferences) {\n      const preferences = JSON.parse(savedPreferences);\n      setSelectedCategory(preferences.category || \"\");\n      setSelectedMode(preferences.mode || \"\");\n      setSelectedStatus(preferences.status || \"\");\n      setSortBy(preferences.sortBy || \"createdAt\");\n      setSortOrder(preferences.sortOrder || \"desc\");\n    }\n\n    // Load saved searches from localStorage\n    const savedSearchesData = localStorage.getItem(\"savedSearches\");\n    if (savedSearchesData) {\n      setSavedSearches(JSON.parse(savedSearchesData));\n    }\n  }, []);\n\n  // Debounce search term\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebouncedSearchTerm(searchTerm);\n    }, 300);\n\n    return () => clearTimeout(timer);\n  }, [searchTerm]);\n\n  const saveSearchHistory = (term) => {\n    if (!term.trim()) return;\n\n    const newHistory = [\n      term,\n      ...searchHistory.filter((item) => item !== term),\n    ].slice(0, 10);\n    setSearchHistory(newHistory);\n    localStorage.setItem(\"studySearchHistory\", JSON.stringify(newHistory));\n  };\n\n  const clearSearchHistory = () => {\n    setSearchHistory([]);\n    localStorage.removeItem(\"studySearchHistory\");\n  };\n\n  const saveSearchPreferences = () => {\n    const preferences = {\n      category: selectedCategory,\n      mode: selectedMode,\n      status: selectedStatus,\n      sortBy,\n      sortOrder,\n    };\n    localStorage.setItem(\"studySearchPreferences\", JSON.stringify(preferences));\n  };\n\n  // Save preferences when they change\n  useEffect(() => {\n    saveSearchPreferences();\n  }, [selectedCategory, selectedMode, selectedStatus, sortBy, sortOrder]);\n\n  const saveCurrentSearch = () => {\n    const searchName = prompt(\"검색 조건의 이름을 입력하세요:\");\n    if (!searchName) return;\n\n    const currentSearch = {\n      id: Date.now(),\n      name: searchName,\n      searchTerm,\n      category: selectedCategory,\n      mode: selectedMode,\n      status: selectedStatus,\n      location: selectedLocation,\n      minMembers,\n      maxMembers,\n      sortBy,\n      sortOrder,\n      createdAt: new Date().toISOString(),\n    };\n\n    const newSavedSearches = [\n      currentSearch,\n      ...savedSearches.filter((s) => s.name !== searchName),\n    ].slice(0, 5);\n    setSavedSearches(newSavedSearches);\n    localStorage.setItem(\"savedSearches\", JSON.stringify(newSavedSearches));\n  };\n\n  const loadSavedSearch = (savedSearch) => {\n    setSearchTerm(savedSearch.searchTerm || \"\");\n    setSelectedCategory(savedSearch.category || \"\");\n    setSelectedMode(savedSearch.mode || \"\");\n    setSelectedStatus(savedSearch.status || \"\");\n    setSelectedLocation(savedSearch.location || \"\");\n    setMinMembers(savedSearch.minMembers || \"\");\n    setMaxMembers(savedSearch.maxMembers || \"\");\n    setSortBy(savedSearch.sortBy || \"createdAt\");\n    setSortOrder(savedSearch.sortOrder || \"desc\");\n    setShowSavedSearches(false);\n  };\n\n  const deleteSavedSearch = (searchId) => {\n    const newSavedSearches = savedSearches.filter((s) => s.id !== searchId);\n    setSavedSearches(newSavedSearches);\n    localStorage.setItem(\"savedSearches\", JSON.stringify(newSavedSearches));\n  };\n\n  const fetchStudies = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(\"http://localhost:3001/api/post\", {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setStudies(data.data || []);\n      } else {\n        setError(\"스터디 목록을 불러오는데 실패했습니다.\");\n      }\n    } catch (error) {\n      console.error(\"Fetch studies error:\", error);\n      setError(\"스터디 목록을 불러오는 중 오류가 발생했습니다.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filteredStudies = studies\n    .filter((study) => {\n      const matchesSearch =\n        !debouncedSearchTerm ||\n        study.title.toLowerCase().includes(debouncedSearchTerm.toLowerCase()) ||\n        study.description\n          .toLowerCase()\n          .includes(debouncedSearchTerm.toLowerCase()) ||\n        (study.author?.username &&\n          study.author.username\n            .toLowerCase()\n            .includes(debouncedSearchTerm.toLowerCase()));\n\n      const matchesCategory =\n        !selectedCategory || study.category === selectedCategory;\n      const matchesMode = !selectedMode || study.mode === selectedMode;\n      const matchesLocation =\n        !selectedLocation ||\n        (study.location &&\n          study.location\n            .toLowerCase()\n            .includes(selectedLocation.toLowerCase()));\n\n      // Status filtering\n      let matchesStatus = true;\n      if (selectedStatus === \"recruiting\") {\n        matchesStatus =\n          !study.isClosed && study.currentNumber < study.recruitNumber;\n      } else if (selectedStatus === \"full\") {\n        matchesStatus = study.currentNumber >= study.recruitNumber;\n      } else if (selectedStatus === \"closed\") {\n        matchesStatus = study.isClosed;\n      }\n\n      // Member count filtering\n      const matchesMinMembers =\n        !minMembers || study.recruitNumber >= parseInt(minMembers);\n      const matchesMaxMembers =\n        !maxMembers || study.recruitNumber <= parseInt(maxMembers);\n\n      return (\n        matchesSearch &&\n        matchesCategory &&\n        matchesMode &&\n        matchesStatus &&\n        matchesLocation &&\n        matchesMinMembers &&\n        matchesMaxMembers\n      );\n    })\n    .sort((a, b) => {\n      let aValue, bValue;\n\n      switch (sortBy) {\n        case \"title\":\n          aValue = a.title.toLowerCase();\n          bValue = b.title.toLowerCase();\n          break;\n        case \"category\":\n          aValue = a.category.toLowerCase();\n          bValue = b.category.toLowerCase();\n          break;\n        case \"recruitNumber\":\n          aValue = a.recruitNumber;\n          bValue = b.recruitNumber;\n          break;\n        case \"currentNumber\":\n          aValue = a.currentNumber || 0;\n          bValue = b.currentNumber || 0;\n          break;\n        case \"createdAt\":\n        default:\n          aValue = new Date(a.createdAt);\n          bValue = new Date(b.createdAt);\n          break;\n      }\n\n      if (sortOrder === \"asc\") {\n        return aValue > bValue ? 1 : -1;\n      } else {\n        return aValue < bValue ? 1 : -1;\n      }\n    });\n\n  const handleSearchSubmit = (e) => {\n    e.preventDefault();\n    saveSearchHistory(searchTerm);\n    setShowSearchHistory(false);\n  };\n\n  const handleSearchHistoryClick = (term) => {\n    setSearchTerm(term);\n    setShowSearchHistory(false);\n  };\n\n  // Highlight search terms in text\n  const highlightText = (text, searchTerm) => {\n    if (!searchTerm || !text) return text;\n\n    const regex = new RegExp(`(${searchTerm})`, \"gi\");\n    const parts = text.split(regex);\n\n    return parts.map((part, index) =>\n      regex.test(part) ? (\n        <mark key={index} className=\"bg-yellow-200 px-1 rounded\">\n          {part}\n        </mark>\n      ) : (\n        part\n      ),\n    );\n  };\n\n  // Close search history when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (showSearchHistory && !event.target.closest(\".search-container\")) {\n        setShowSearchHistory(false);\n      }\n    };\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [showSearchHistory]);\n\n  const formatDate = (dateString) => {\n    if (!dateString) return \"미정\";\n    return new Date(dateString).toLocaleDateString(\"ko-KR\");\n  };\n\n  const getStatusBadge = (study) => {\n    if (study.isClosed) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\n          모집 완료\n        </span>\n      );\n    }\n    if (study.currentNumber >= study.recruitNumber) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\">\n          인원 마감\n        </span>\n      );\n    }\n    return (\n      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n        모집 중\n      </span>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"flex justify-center\">\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"text-center\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">\n              오류가 발생했습니다\n            </h2>\n            <p className=\"text-gray-600 mb-4\">{error}</p>\n            <button\n              onClick={fetchStudies}\n              className=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\"\n            >\n              다시 시도\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n      <div className=\"px-4 py-6 sm:px-0\">\n        <div className=\"flex justify-between items-center mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900\">스터디 목록</h1>\n          <button\n            onClick={() => navigate(\"/create-study\")}\n            className=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\"\n          >\n            새 스터디 만들기\n          </button>\n        </div>\n\n        {/* 검색 및 필터 */}\n        <div className=\"bg-white p-6 rounded-lg shadow mb-6\">\n          {/* 기본 검색 및 필터 */}\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n            <div className=\"relative search-container\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                검색\n              </label>\n              <form onSubmit={handleSearchSubmit} className=\"relative\">\n                <input\n                  type=\"text\"\n                  placeholder=\"스터디 제목, 내용, 작성자로 검색\"\n                  value={searchTerm}\n                  onChange={(e) => {\n                    setSearchTerm(e.target.value);\n                    setShowSearchHistory(true);\n                  }}\n                  onFocus={() => setShowSearchHistory(true)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                />\n                <button\n                  type=\"submit\"\n                  className=\"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\"\n                >\n                  <svg\n                    className=\"w-5 h-5\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n                    />\n                  </svg>\n                </button>\n              </form>\n\n              {/* 검색 기록 드롭다운 */}\n              {showSearchHistory && searchHistory.length > 0 && (\n                <div className=\"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg\">\n                  <div className=\"p-2 border-b border-gray-200 flex justify-between items-center\">\n                    <span className=\"text-sm font-medium text-gray-700\">\n                      최근 검색어\n                    </span>\n                    <button\n                      onClick={clearSearchHistory}\n                      className=\"text-xs text-red-600 hover:text-red-800\"\n                    >\n                      전체 삭제\n                    </button>\n                  </div>\n                  {searchHistory.map((term, index) => (\n                    <button\n                      key={index}\n                      onClick={() => handleSearchHistoryClick(term)}\n                      className=\"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center\"\n                    >\n                      <svg\n                        className=\"w-4 h-4 mr-2 text-gray-400\"\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          strokeWidth={2}\n                          d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n                        />\n                      </svg>\n                      {term}\n                    </button>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                분류\n              </label>\n              <select\n                value={selectedCategory}\n                onChange={(e) => setSelectedCategory(e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n              >\n                <option value=\"\">전체</option>\n                <option value=\"프로그래밍\">프로그래밍</option>\n                <option value=\"언어\">언어</option>\n                <option value=\"자격증\">자격증</option>\n                <option value=\"취업준비\">취업준비</option>\n                <option value=\"기타\">기타</option>\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                모드\n              </label>\n              <select\n                value={selectedMode}\n                onChange={(e) => setSelectedMode(e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n              >\n                <option value=\"\">전체</option>\n                <option value=\"온라인\">온라인</option>\n                <option value=\"오프라인\">오프라인</option>\n                <option value=\"하이브리드\">하이브리드</option>\n              </select>\n            </div>\n\n            <div className=\"flex items-end space-x-2\">\n              <button\n                onClick={() => setShowAdvancedFilters(!showAdvancedFilters)}\n                className=\"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 text-sm\"\n              >\n                {showAdvancedFilters ? \"고급 필터 숨기기\" : \"고급 필터\"}\n              </button>\n              <button\n                onClick={() => setShowSavedSearches(!showSavedSearches)}\n                className=\"flex-1 bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 text-sm\"\n              >\n                검색\n              </button>\n              <button\n                onClick={() => {\n                  setSearchTerm(\"\");\n                  setSelectedCategory(\"\");\n                  setSelectedMode(\"\");\n                  setSelectedStatus(\"\");\n                  setSelectedLocation(\"\");\n                  setMinMembers(\"\");\n                  setMaxMembers(\"\");\n                }}\n                className=\"flex-1 bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 text-sm\"\n              >\n                초기화\n              </button>\n            </div>\n          </div>\n\n          {/* 저장된 검색 드롭다운 */}\n          {showSavedSearches && (\n            <div className=\"border-t border-gray-200 pt-4\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <h4 className=\"text-sm font-medium text-gray-700\">\n                  저장된 검색 조건\n                </h4>\n                <button\n                  onClick={saveCurrentSearch}\n                  className=\"text-sm text-indigo-600 hover:text-indigo-800 underline\"\n                >\n                  현재 검색 저장\n                </button>\n              </div>\n              {savedSearches.length === 0 ? (\n                <p className=\"text-sm text-gray-500 text-center py-4\">\n                  저장된 검색 조건이 없습니다.\n                </p>\n              ) : (\n                <div className=\"space-y-2\">\n                  {savedSearches.map((savedSearch) => (\n                    <div\n                      key={savedSearch.id}\n                      className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\"\n                    >\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center space-x-2\">\n                          <button\n                            onClick={() => loadSavedSearch(savedSearch)}\n                            className=\"text-sm font-medium text-gray-900 hover:text-indigo-600\"\n                          >\n                            {savedSearch.name}\n                          </button>\n                          <span className=\"text-xs text-gray-500\">\n                            {new Date(\n                              savedSearch.createdAt,\n                            ).toLocaleDateString()}\n                          </span>\n                        </div>\n                        <div className=\"text-xs text-gray-600 mt-1\">\n                          {savedSearch.searchTerm &&\n                            `검색어: ${savedSearch.searchTerm}`}\n                          {savedSearch.category &&\n                            ` | 분류: ${savedSearch.category}`}\n                          {savedSearch.mode && ` | 모드: ${savedSearch.mode}`}\n                        </div>\n                      </div>\n                      <button\n                        onClick={() => deleteSavedSearch(savedSearch.id)}\n                        className=\"text-red-600 hover:text-red-800 text-sm\"\n                        title=\"삭제\"\n                      >\n                        <svg\n                          className=\"w-4 h-4\"\n                          fill=\"none\"\n                          stroke=\"currentColor\"\n                          viewBox=\"0 0 24 24\"\n                        >\n                          <path\n                            strokeLinecap=\"round\"\n                            strokeLinejoin=\"round\"\n                            strokeWidth={2}\n                            d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n                          />\n                        </svg>\n                      </button>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* 고급 필터 */}\n          {showAdvancedFilters && (\n            <div className=\"border-t border-gray-200 pt-4\">\n              <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    상태\n                  </label>\n                  <select\n                    value={selectedStatus}\n                    onChange={(e) => setSelectedStatus(e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                  >\n                    <option value=\"\">전체</option>\n                    <option value=\"recruiting\">모집 중</option>\n                    <option value=\"full\">인원 마감</option>\n                    <option value=\"closed\">모집 완료</option>\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    위치\n                  </label>\n                  <input\n                    type=\"text\"\n                    placeholder=\"위치로 검색\"\n                    value={selectedLocation}\n                    onChange={(e) => setSelectedLocation(e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    최소 인원\n                  </label>\n                  <input\n                    type=\"number\"\n                    placeholder=\"최소\"\n                    value={minMembers}\n                    onChange={(e) => setMinMembers(e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    최대 인원\n                  </label>\n                  <input\n                    type=\"number\"\n                    placeholder=\"최대\"\n                    value={maxMembers}\n                    onChange={(e) => setMaxMembers(e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                  />\n                </div>\n\n                <div className=\"flex items-end\">\n                  <div className=\"w-full text-center\">\n                    <p className=\"text-sm text-gray-600 mb-1\">검색 결과</p>\n                    <p className=\"text-lg font-semibold text-indigo-600\">\n                      {filteredStudies.length}개\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* 검색 결과 요약 및 정렬 */}\n        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6\">\n          {/* 검색 결과 요약 */}\n          {debouncedSearchTerm ||\n          selectedCategory ||\n          selectedMode ||\n          selectedStatus ||\n          selectedLocation ||\n          minMembers ||\n          maxMembers ? (\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4 sm:mb-0 flex-1\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h3 className=\"text-sm font-medium text-blue-900\">\n                    검색 결과\n                  </h3>\n                  <p className=\"text-sm text-blue-700 mt-1\">\n                    총{\" \"}\n                    <span className=\"font-semibold\">\n                      {filteredStudies.length}개\n                    </span>\n                    의 스터디를 찾았습니다\n                    {debouncedSearchTerm && (\n                      <span className=\"ml-2\">\n                        (검색어:{\" \"}\n                        <span className=\"font-semibold\">\n                          \"{debouncedSearchTerm}\"\n                        </span>\n                        )\n                      </span>\n                    )}\n                  </p>\n                </div>\n                <button\n                  onClick={() => {\n                    setSearchTerm(\"\");\n                    setSelectedCategory(\"\");\n                    setSelectedMode(\"\");\n                    setSelectedStatus(\"\");\n                    setSelectedLocation(\"\");\n                    setMinMembers(\"\");\n                    setMaxMembers(\"\");\n                  }}\n                  className=\"text-sm text-blue-600 hover:text-blue-800 underline\"\n                >\n                  검색 조건 초기화\n                </button>\n              </div>\n            </div>\n          ) : (\n            <div className=\"mb-4 sm:mb-0\">\n              <p className=\"text-sm text-gray-600\">\n                총{\" \"}\n                <span className=\"font-semibold\">\n                  {filteredStudies.length}개\n                </span>\n                의 스터디\n              </p>\n            </div>\n          )}\n\n          {/* 정렬 옵션 */}\n          {filteredStudies.length > 0 && (\n            <div className=\"flex items-center space-x-2\">\n              <label className=\"text-sm font-medium text-gray-700\">정렬:</label>\n              <select\n                value={sortBy}\n                onChange={(e) => setSortBy(e.target.value)}\n                className=\"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n              >\n                <option value=\"createdAt\">최신순</option>\n                <option value=\"title\">제목순</option>\n                <option value=\"category\">분류순</option>\n                <option value=\"recruitNumber\">모집인원순</option>\n                <option value=\"currentNumber\">현재인원순</option>\n              </select>\n              <button\n                onClick={() =>\n                  setSortOrder(sortOrder === \"asc\" ? \"desc\" : \"asc\")\n                }\n                className=\"p-1 text-gray-400 hover:text-gray-600\"\n                title={sortOrder === \"asc\" ? \"내림차순\" : \"오름차순\"}\n              >\n                {sortOrder === \"asc\" ? (\n                  <svg\n                    className=\"w-4 h-4\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M5 15l7-7 7 7\"\n                    />\n                  </svg>\n                ) : (\n                  <svg\n                    className=\"w-4 h-4\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M19 9l-7 7-7-7\"\n                    />\n                  </svg>\n                )}\n              </button>\n            </div>\n          )}\n        </div>\n\n        {/* 스터디 목록 */}\n        {filteredStudies.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <div className=\"mb-4\">\n              <svg\n                className=\"mx-auto h-12 w-12 text-gray-400\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n                />\n              </svg>\n            </div>\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n              {studies.length === 0\n                ? \"스터디가 없습니다\"\n                : \"검색 결과가 없습니다\"}\n            </h3>\n            <p className=\"text-gray-600 mb-4\">\n              {studies.length === 0\n                ? \"첫 번째 스터디를 만들어보세요!\"\n                : \"다른 검색 조건을 시도해보세요.\"}\n            </p>\n            {studies.length === 0 ? (\n              <button\n                onClick={() => navigate(\"/create-study\")}\n                className=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\"\n              >\n                스터디 만들기\n              </button>\n            ) : (\n              <button\n                onClick={() => {\n                  setSearchTerm(\"\");\n                  setSelectedCategory(\"\");\n                  setSelectedMode(\"\");\n                  setSelectedStatus(\"\");\n                  setSelectedLocation(\"\");\n                  setMinMembers(\"\");\n                  setMaxMembers(\"\");\n                }}\n                className=\"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700\"\n              >\n                검색 조건 초기화\n              </button>\n            )}\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {filteredStudies.map((study) => (\n              <div\n                key={study.id}\n                className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow\"\n              >\n                <div className=\"p-6\">\n                  <div className=\"flex justify-between items-start mb-4\">\n                    <h3 className=\"text-xl font-semibold text-gray-900 line-clamp-2\">\n                      {highlightText(study.title, debouncedSearchTerm)}\n                    </h3>\n                    {getStatusBadge(study)}\n                  </div>\n\n                  <p className=\"text-gray-600 text-sm mb-4 line-clamp-3\">\n                    {highlightText(study.description, debouncedSearchTerm)}\n                  </p>\n\n                  <div className=\"space-y-2 mb-4\">\n                    <div className=\"flex items-center text-sm text-gray-500\">\n                      <span className=\"font-medium mr-2\">분류:</span>\n                      <span className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs\">\n                        {study.category}\n                      </span>\n                    </div>\n                    <div className=\"flex items-center text-sm text-gray-500\">\n                      <span className=\"font-medium mr-2\">모드:</span>\n                      <span className=\"bg-green-100 text-green-800 px-2 py-1 rounded text-xs\">\n                        {study.mode}\n                      </span>\n                    </div>\n                    {study.location && (\n                      <div className=\"flex items-center text-sm text-gray-500\">\n                        <span className=\"font-medium mr-2\">위치:</span>\n                        <span>{study.location}</span>\n                      </div>\n                    )}\n                    <div className=\"flex items-center text-sm text-gray-500\">\n                      <span className=\"font-medium mr-2\">인원:</span>\n                      <span>\n                        {study.currentNumber || 1}/{study.recruitNumber}명\n                      </span>\n                    </div>\n                    <div className=\"flex items-center text-sm text-gray-500\">\n                      <span className=\"font-medium mr-2\">작성자:</span>\n                      <span>\n                        {highlightText(\n                          study.author?.username || \"알 수 없음\",\n                          debouncedSearchTerm,\n                        )}\n                      </span>\n                    </div>\n                    <div className=\"flex items-center text-sm text-gray-500\">\n                      <span className=\"font-medium mr-2\">작성일:</span>\n                      <span>{formatDate(study.createdAt)}</span>\n                    </div>\n                  </div>\n\n                  <div className=\"flex space-x-2\">\n                    <button\n                      onClick={() => navigate(`/studies/${study.id}`)}\n                      className=\"w-full bg-indigo-600 text-white px-3 py-2 rounded-md hover:bg-indigo-700 text-sm\"\n                    >\n                      상세보기\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst MyApplications = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [applications, setApplications] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (user) {\n      fetchMyApplications();\n    }\n  }, [user]);\n\n  console.log(\"MyApplications render - applications:\", applications);\n  console.log(\n    \"MyApplications render - applications type:\",\n    typeof applications,\n  );\n  console.log(\n    \"MyApplications render - applications isArray:\",\n    Array.isArray(applications),\n  );\n  console.log(\n    \"MyApplications render - applications keys:\",\n    applications ? Object.keys(applications) : \"no keys\",\n  );\n  console.log(\"MyApplications render - applications.data:\", applications?.data);\n  console.log(\n    \"MyApplications render - applications.data type:\",\n    typeof applications?.data,\n  );\n  console.log(\n    \"MyApplications render - applications.data isArray:\",\n    Array.isArray(applications?.data),\n  );\n  console.log(\n    \"MyApplications render - applications.data length:\",\n    applications?.data?.length,\n  );\n  console.log(\n    \"MyApplications render - applications.data count:\",\n    applications?.data?.length || 0,\n  );\n  if (Array.isArray(applications?.data) && applications.data.length > 0) {\n    console.log(\n      \"MyApplications render - first application:\",\n      applications.data[0],\n    );\n  }\n\n\n\n  const fetchMyApplications = async () => {\n    console.log(\"fetchMyApplications function called\");\n    try {\n      setLoading(true);\n      const token = localStorage.getItem(\"token\");\n\n      console.log(\n        \"Fetching applications with token:\",\n        token ? \"Token exists\" : \"No token\",\n      );\n\n      const response = await fetch(\n        \"http://localhost:3001/api/post/applications\",\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        },\n      );\n\n      console.log(\"Response status:\", response.status);\n      console.log(\"Response ok:\", response.ok);\n\n      if (response.ok) {\n        const data = await response.json();\n        console.log(\"Applications data:\", data);\n        console.log(\"Applications data.data:\", data.data);\n        console.log(\"Applications data.data type:\", typeof data.data);\n        console.log(\n          \"Applications data.data isArray:\",\n          Array.isArray(data.data),\n        );\n        console.log(\"Applications data.data length:\", data.data?.length);\n        console.log(\"Full response structure:\", JSON.stringify(data, null, 2));\n        setApplications(data);\n      } else {\n        const errorText = await response.text();\n        console.error(\"Error response:\", errorText);\n        setError(`지원 목록을 불러오는데 실패했습니다. (${response.status})`);\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch my applications:\", error);\n      setError(\"지원 목록을 불러오는 중 오류가 발생했습니다.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return \"미정\";\n    return new Date(dateString).toLocaleDateString(\"ko-KR\");\n  };\n\n  const getStatusBadge = (study) => {\n    if (study?.isClosed) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\n          모집 완료\n        </span>\n      );\n    }\n    if (study?.currentNumber >= study?.recruitNumber) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\">\n          인원 마감\n        </span>\n      );\n    }\n    return (\n      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n        모집 중\n      </span>\n    );\n  };\n\n  const getApplicationStatusBadge = (application) => {\n    if (application.isAccepted) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n          수락됨\n        </span>\n      );\n    }\n    return (\n      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\">\n        대기중\n      </span>\n    );\n  };\n\n  // user가 null인 경우 로딩 상태 표시\n  if (!user) {\n    return (\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"flex justify-center\">\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"flex justify-center\">\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"text-center\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">\n              오류가 발생했습니다\n            </h2>\n            <p className=\"text-gray-600 mb-4\">{error}</p>\n            <button\n              onClick={fetchMyApplications}\n              className=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\"\n            >\n              다시 시도\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n      <div className=\"px-4 py-6 sm:px-0\">\n        <div className=\"flex items-center justify-between mb-8\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900\">\n              내가 지원한 스터디\n            </h1>\n            <p className=\"text-gray-600 mt-2\">\n              총{\" \"}\n              {Array.isArray(applications?.data?.data)\n                ? applications.data.data.length\n                : 0}\n              개의 지원\n            </p>\n          </div>\n          <button\n            onClick={() => navigate(\"/studies\")}\n            className=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\"\n          >\n            스터디 목록 보기\n          </button>\n        </div>\n\n        {!Array.isArray(applications?.data?.data) ||\n        applications?.data?.data?.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <div className=\"text-6xl mb-4\">📝</div>\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n              아직 지원한 스터디가 없습니다\n            </h2>\n            <p className=\"text-gray-600 mb-6\">새로운 스터디에 지원해보세요!</p>\n            <button\n              onClick={() => navigate(\"/studies\")}\n              className=\"bg-indigo-600 text-white px-6 py-3 rounded-md hover:bg-indigo-700\"\n            >\n              스터디 목록 보기\n            </button>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {Array.isArray(applications?.data?.data) &&\n              applications.data.data.map((application) => (\n                <div\n                  key={application.id}\n                  className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow cursor-pointer\"\n                  onClick={() => navigate(`/studies/${application.post.id}`)}\n                >\n                  <div className=\"p-6\">\n                    <div className=\"flex justify-between items-start mb-4\">\n                      <h3 className=\"text-xl font-semibold text-gray-900 line-clamp-2\">\n                        {application.post?.title}\n                      </h3>\n                      <div className=\"flex flex-col items-end space-y-1\">\n                        {getStatusBadge(application.post)}\n                        {getApplicationStatusBadge(application)}\n                      </div>\n                    </div>\n\n                    <p className=\"text-gray-600 text-sm mb-4 line-clamp-3\">\n                      {application.post?.description}\n                    </p>\n\n                    <div className=\"space-y-2 mb-4\">\n                      <div className=\"flex items-center text-sm text-gray-500\">\n                        <span className=\"font-medium mr-2\">분류:</span>\n                        <span className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs\">\n                          {application.post?.category}\n                        </span>\n                      </div>\n                      <div className=\"flex items-center text-sm text-gray-500\">\n                        <span className=\"font-medium mr-2\">모드:</span>\n                        <span className=\"bg-green-100 text-green-800 px-2 py-1 rounded text-xs\">\n                          {application.post?.mode}\n                        </span>\n                      </div>\n                      {application.post?.location && (\n                        <div className=\"flex items-center text-sm text-gray-500\">\n                          <span className=\"font-medium mr-2\">위치:</span>\n                          <span>{application.post?.location}</span>\n                        </div>\n                      )}\n                      <div className=\"flex items-center text-sm text-gray-500\">\n                        <span className=\"font-medium mr-2\">인원:</span>\n                        <span>\n                          {application.post?.currentNumber || 1}/\n                          {application.post?.recruitNumber}명\n                        </span>\n                      </div>\n                      <div className=\"flex items-center text-sm text-gray-500\">\n                        <span className=\"font-medium mr-2\">지원일:</span>\n                        <span>{formatDate(application.createdAt)}</span>\n                      </div>\n                    </div>\n\n                    <div className=\"flex space-x-2\">\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          navigate(`/studies/${application.post.id}`);\n                        }}\n                        className=\"flex-1 bg-indigo-600 text-white px-3 py-2 rounded-md hover:bg-indigo-700 text-sm\"\n                      >\n                        상세보기\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst MyMemberships = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [memberships, setMemberships] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    fetchMyMemberships();\n  }, []);\n\n  const fetchMyMemberships = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem(\"token\");\n\n      const response = await fetch(\n        \"http://localhost:3001/api/post/memberships\",\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        },\n      );\n\n      if (response.ok) {\n        const data = await response.json();\n        setMemberships(data);\n      } else {\n        setError(\"멤버십 목록을 불러오는데 실패했습니다.\");\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch my memberships:\", error);\n      setError(\"멤버십 목록을 불러오는 중 오류가 발생했습니다.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return \"미정\";\n    return new Date(dateString).toLocaleDateString(\"ko-KR\");\n  };\n\n  const getStatusBadge = (study) => {\n    if (study?.isClosed) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\n          모집 완료\n        </span>\n      );\n    }\n    if (study?.currentNumber >= study?.recruitNumber) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\">\n          인원 마감\n        </span>\n      );\n    }\n    return (\n      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n        모집 중\n      </span>\n    );\n  };\n\n  const getRoleBadge = (membership) => {\n    if (membership.role === \"leader\") {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800\">\n          리더\n        </span>\n      );\n    }\n    return (\n      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n        멤버\n      </span>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"flex justify-center\">\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"text-center\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">\n              오류가 발생했습니다\n            </h2>\n            <p className=\"text-gray-600 mb-4\">{error}</p>\n            <button\n              onClick={fetchMyMemberships}\n              className=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\"\n            >\n              다시 시도\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n      <div className=\"px-4 py-6 sm:px-0\">\n        <div className=\"flex items-center justify-between mb-8\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900\">\n              내가 참여한 스터디\n            </h1>\n            <p className=\"text-gray-600 mt-2\">\n              총{\" \"}\n              {Array.isArray(memberships?.data?.data)\n                ? memberships.data.data.length\n                : 0}\n              개의 스터디\n            </p>\n          </div>\n          <button\n            onClick={() => navigate(\"/studies\")}\n            className=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\"\n          >\n            스터디 목록 보기\n          </button>\n        </div>\n\n        {!Array.isArray(memberships?.data?.data) ||\n        memberships?.data?.data?.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <div className=\"text-6xl mb-4\">👥</div>\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n              아직 참여한 스터디가 없습니다\n            </h2>\n            <p className=\"text-gray-600 mb-6\">새로운 스터디에 참여해보세요!</p>\n            <button\n              onClick={() => navigate(\"/studies\")}\n              className=\"bg-indigo-600 text-white px-6 py-3 rounded-md hover:bg-indigo-700\"\n            >\n              스터디 목록 보기\n            </button>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {Array.isArray(memberships?.data?.data) &&\n              memberships.data.data.map((membership) => (\n                <div\n                  key={membership.id}\n                  className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow cursor-pointer\"\n                  onClick={() => navigate(`/studies/${membership.post.id}`)}\n                >\n                  <div className=\"p-6\">\n                    <div className=\"flex justify-between items-start mb-4\">\n                      <h3 className=\"text-xl font-semibold text-gray-900 line-clamp-2\">\n                        {membership.post?.title}\n                      </h3>\n                      <div className=\"flex flex-col items-end space-y-1\">\n                        {getStatusBadge(membership.post)}\n                        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                          {membership.role === \"leader\" ? \"리더\" : \"멤버\"}\n                        </span>\n                      </div>\n                    </div>\n\n                    <p className=\"text-gray-600 text-sm mb-4 line-clamp-3\">\n                      {membership.post?.description}\n                    </p>\n\n                    <div className=\"space-y-2 mb-4\">\n                      <div className=\"flex items-center text-sm text-gray-500\">\n                        <span className=\"font-medium mr-2\">분류:</span>\n                        <span className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs\">\n                          {membership.post?.category}\n                        </span>\n                      </div>\n                      <div className=\"flex items-center text-sm text-gray-500\">\n                        <span className=\"font-medium mr-2\">모드:</span>\n                        <span className=\"bg-green-100 text-green-800 px-2 py-1 rounded text-xs\">\n                          {membership.post?.mode}\n                        </span>\n                      </div>\n                      {membership.post?.location && (\n                        <div className=\"flex items-center text-sm text-gray-500\">\n                          <span className=\"font-medium mr-2\">위치:</span>\n                          <span>{membership.post?.location}</span>\n                        </div>\n                      )}\n                      <div className=\"flex items-center text-sm text-gray-500\">\n                        <span className=\"font-medium mr-2\">인원:</span>\n                        <span>\n                          {membership.post?.currentNumber || 1}/\n                          {membership.post?.recruitNumber}명\n                        </span>\n                      </div>\n                      <div className=\"flex items-center text-sm text-gray-500\">\n                        <span className=\"font-medium mr-2\">참여일:</span>\n                        <span>{formatDate(membership.createdAt)}</span>\n                      </div>\n                    </div>\n\n                    <div className=\"flex space-x-2\">\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          navigate(`/studies/${membership.post.id}`);\n                        }}\n                        className=\"flex-1 bg-indigo-600 text-white px-3 py-2 rounded-md hover:bg-indigo-700 text-sm\"\n                      >\n                        상세보기\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst MyMemberStudies = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [studies, setStudies] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fetchMyMemberStudies = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem(\"token\");\n      \n      console.log(\"Fetching member studies with token:\", token ? \"Token exists\" : \"No token\");\n      console.log(\"Request URL:\", \"http://localhost:3001/api/post/member-studies\");\n\n      const response = await fetch(\n        \"http://localhost:3001/api/post/member-studies\",\n        {\n          headers: { \n            Authorization: `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          },\n        },\n      );\n\n      console.log(\"Response status:\", response.status);\n      console.log(\"Response ok:\", response.ok);\n\n      if (response.ok) {\n        const data = await response.json();\n        console.log(\"Member studies data:\", data);\n        setStudies(data);\n      } else {\n        const errorText = await response.text();\n        console.error(\"Response error:\", errorText);\n        setError(\"스터디 목록을 불러오는데 실패했습니다.\");\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch my member studies:\", error);\n      setError(\"스터디 목록을 불러오는 중 오류가 발생했습니다.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (user) {\n      fetchMyMemberStudies();\n    }\n  }, [user]);\n\n  // user가 null인 경우 로딩 상태 표시\n  if (!user) {\n    return (\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"flex justify-center\">\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const formatDate = (dateString) => {\n    if (!dateString) return \"미정\";\n    return new Date(dateString).toLocaleDateString(\"ko-KR\");\n  };\n\n  const getStatusBadge = (study) => {\n    if (study?.isClosed) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\n          모집 완료\n        </span>\n      );\n    }\n    if (study?.currentNumber >= study?.recruitNumber) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\">\n          인원 마감\n        </span>\n      );\n    }\n    return (\n      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n        모집 중\n      </span>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"flex justify-center\">\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"text-center\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">\n              오류가 발생했습니다\n            </h2>\n            <p className=\"text-gray-600 mb-4\">{error}</p>\n            <button\n              onClick={fetchMyMemberStudies}\n              className=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\"\n            >\n              다시 시도\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n      <div className=\"px-4 py-6 sm:px-0\">\n        <div className=\"flex items-center justify-between mb-8\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900\">\n              내가 멤버로 참여하는 운영스터디\n            </h1>\n            <p className=\"text-gray-600 mt-2\">\n              총{\" \"}\n              {Array.isArray(studies?.data?.data)\n                ? studies.data.data.length\n                : 0}\n              개의 스터디\n            </p>\n          </div>\n          <button\n            onClick={() => navigate(\"/studies\")}\n            className=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\"\n          >\n            스터디 목록 보기\n          </button>\n        </div>\n\n        {!Array.isArray(studies?.data?.data) ||\n        studies?.data?.data?.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <div className=\"text-6xl mb-4\">👥</div>\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n              아직 참여하는 운영스터디가 없습니다\n            </h2>\n            <p className=\"text-gray-600 mb-6\">\n              새로운 운영스터디에 참여해보세요!\n            </p>\n            <button\n              onClick={() => navigate(\"/studies\")}\n              className=\"bg-indigo-600 text-white px-6 py-3 rounded-md hover:bg-indigo-700\"\n            >\n              스터디 목록 보기\n            </button>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {Array.isArray(studies?.data?.data) &&\n              studies.data.data.map((membership) => (\n                <div\n                  key={membership.id}\n                  className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow cursor-pointer\"\n                  onClick={() => navigate(`/studies/${membership.post.id}`)}\n                >\n                  <div className=\"p-6\">\n                    <div className=\"flex justify-between items-start mb-4\">\n                      <h3 className=\"text-xl font-semibold text-gray-900 line-clamp-2\">\n                        {membership.post?.title}\n                      </h3>\n                      <div className=\"flex flex-col items-end space-y-1\">\n                        {getStatusBadge(membership.post)}\n                        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                          멤버\n                        </span>\n                      </div>\n                    </div>\n\n                    <p className=\"text-gray-600 text-sm mb-4 line-clamp-3\">\n                      {membership.post?.description}\n                    </p>\n\n                    <div className=\"space-y-2 mb-4\">\n                      <div className=\"flex items-center text-sm text-gray-500\">\n                        <span className=\"font-medium mr-2\">분류:</span>\n                        <span className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs\">\n                          {membership.post?.category}\n                        </span>\n                      </div>\n                      <div className=\"flex items-center text-sm text-gray-500\">\n                        <span className=\"font-medium mr-2\">모드:</span>\n                        <span className=\"bg-green-100 text-green-800 px-2 py-1 rounded text-xs\">\n                          {membership.post?.mode}\n                        </span>\n                      </div>\n                      {membership.post?.location && (\n                        <div className=\"flex items-center text-sm text-gray-500\">\n                          <span className=\"font-medium mr-2\">위치:</span>\n                          <span>{membership.post?.location}</span>\n                        </div>\n                      )}\n                      <div className=\"flex items-center text-sm text-gray-500\">\n                        <span className=\"font-medium mr-2\">인원:</span>\n                        <span>\n                          {membership.post?.currentNumber || 1}/\n                          {membership.post?.recruitNumber}명\n                        </span>\n                      </div>\n                      <div className=\"flex items-center text-sm text-gray-500\">\n                        <span className=\"font-medium mr-2\">참여일:</span>\n                        <span>{formatDate(membership.createdAt)}</span>\n                      </div>\n                    </div>\n\n                    <div className=\"flex space-x-2\">\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          navigate(`/studies/${membership.post.id}`);\n                        }}\n                        className=\"flex-1 bg-indigo-600 text-white px-3 py-2 rounded-md hover:bg-indigo-700 text-sm\"\n                      >\n                        상세보기\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst MyLeaderStudies = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [studies, setStudies] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fetchMyLeaderStudies = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem(\"token\");\n\n      const response = await fetch(\n        \"http://localhost:3001/api/post/leader-studies\",\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        },\n      );\n\n      if (response.ok) {\n        const data = await response.json();\n        setStudies(data);\n      } else {\n        setError(\"스터디 목록을 불러오는데 실패했습니다.\");\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch my leader studies:\", error);\n      setError(\"스터디 목록을 불러오는 중 오류가 발생했습니다.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (user) {\n      fetchMyLeaderStudies();\n    }\n  }, [user]);\n\n  // user가 null인 경우 로딩 상태 표시\n  if (!user) {\n    return (\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"flex justify-center\">\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const formatDate = (dateString) => {\n    if (!dateString) return \"미정\";\n    return new Date(dateString).toLocaleDateString(\"ko-KR\");\n  };\n\n  const getStatusBadge = (study) => {\n    if (study?.isClosed) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\n          모집 완료\n        </span>\n      );\n    }\n    if (study?.currentNumber >= study?.recruitNumber) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\">\n          인원 마감\n        </span>\n      );\n    }\n    return (\n      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n        모집 중\n      </span>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"flex justify-center\">\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"text-center\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">\n              오류가 발생했습니다\n            </h2>\n            <p className=\"text-gray-600 mb-4\">{error}</p>\n            <button\n              onClick={fetchMyLeaderStudies}\n              className=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\"\n            >\n              다시 시도\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n      <div className=\"px-4 py-6 sm:px-0\">\n        <div className=\"flex items-center justify-between mb-8\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900\">\n              내가 운영하는 운영스터디\n            </h1>\n            <p className=\"text-gray-600 mt-2\">\n              총{\" \"}\n              {Array.isArray(studies?.data?.data)\n                ? studies.data.data.length\n                : 0}\n              개의 스터디\n            </p>\n          </div>\n          <button\n            onClick={() => navigate(\"/studies\")}\n            className=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\"\n          >\n            스터디 목록 보기\n          </button>\n        </div>\n\n        {!Array.isArray(studies?.data?.data) ||\n        studies?.data?.data?.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <div className=\"text-6xl mb-4\">👑</div>\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n              아직 운영하는 운영스터디가 없습니다\n            </h2>\n            <p className=\"text-gray-600 mb-6\">\n              새로운 운영스터디를 만들어보세요!\n            </p>\n            <button\n              onClick={() => navigate(\"/studies\")}\n              className=\"bg-indigo-600 text-white px-6 py-3 rounded-md hover:bg-indigo-700\"\n            >\n              스터디 목록 보기\n            </button>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {Array.isArray(studies?.data?.data) &&\n              studies.data.data.map((membership) => (\n                <div\n                  key={membership.id}\n                  className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow cursor-pointer\"\n                  onClick={() => navigate(`/studies/${membership.post.id}`)}\n                >\n                  <div className=\"p-6\">\n                    <div className=\"flex justify-between items-start mb-4\">\n                      <h3 className=\"text-xl font-semibold text-gray-900 line-clamp-2\">\n                        {membership.post?.title}\n                      </h3>\n                      <div className=\"flex flex-col items-end space-y-1\">\n                        {getStatusBadge(membership.post)}\n                        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800\">\n                          리더\n                        </span>\n                      </div>\n                    </div>\n\n                    <p className=\"text-gray-600 text-sm mb-4 line-clamp-3\">\n                      {membership.post?.description}\n                    </p>\n\n                    <div className=\"space-y-2 mb-4\">\n                      <div className=\"flex items-center text-sm text-gray-500\">\n                        <span className=\"font-medium mr-2\">분류:</span>\n                        <span className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs\">\n                          {membership.post?.category}\n                        </span>\n                      </div>\n                      <div className=\"flex items-center text-sm text-gray-500\">\n                        <span className=\"font-medium mr-2\">모드:</span>\n                        <span className=\"bg-green-100 text-green-800 px-2 py-1 rounded text-xs\">\n                          {membership.post?.mode}\n                        </span>\n                      </div>\n                      {membership.post?.location && (\n                        <div className=\"flex items-center text-sm text-gray-500\">\n                          <span className=\"font-medium mr-2\">위치:</span>\n                          <span>{membership.post?.location}</span>\n                        </div>\n                      )}\n                      <div className=\"flex items-center text-sm text-gray-500\">\n                        <span className=\"font-medium mr-2\">인원:</span>\n                        <span>\n                          {membership.post?.currentNumber || 1}/\n                          {membership.post?.recruitNumber}명\n                        </span>\n                      </div>\n                      <div className=\"flex items-center text-sm text-gray-500\">\n                        <span className=\"font-medium mr-2\">참여일:</span>\n                        <span>{formatDate(membership.createdAt)}</span>\n                      </div>\n                    </div>\n\n                    <div className=\"flex space-x-2\">\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          navigate(`/studies/${membership.post.id}`);\n                        }}\n                        className=\"flex-1 bg-indigo-600 text-white px-3 py-2 rounded-md hover:bg-indigo-700 text-sm\"\n                      >\n                        상세보기\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst MyStudyDetail = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const { id } = useParams();\n  const [study, setStudy] = useState(null);\n  const [applications, setApplications] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [activeTab, setActiveTab] = useState('info'); // 'info', 'applications'\n\n  const fetchStudyDetail = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem(\"token\");\n\n      const response = await fetch(\n        `http://localhost:3001/api/post/${id}`,\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        },\n      );\n\n      if (response.ok) {\n        const data = await response.json();\n        setStudy(data);\n      } else {\n        setError(\"스터디 정보를 불러오는데 실패했습니다.\");\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch study detail:\", error);\n      setError(\"스터디 정보를 불러오는 중 오류가 발생했습니다.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchApplications = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n\n      const response = await fetch(\n        `http://localhost:3001/api/post/${id}/applications`,\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        },\n      );\n\n      if (response.ok) {\n        const data = await response.json();\n        setApplications(data);\n      } else {\n        console.error(\"Failed to fetch applications\");\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch applications:\", error);\n    }\n  };\n\n  useEffect(() => {\n    if (user && id) {\n      fetchStudyDetail();\n      fetchApplications();\n    }\n  }, [user, id]);\n\n  // user가 null인 경우 로딩 상태 표시\n  if (!user) {\n    return (\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"flex justify-center\">\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const formatDate = (dateString) => {\n    if (!dateString) return \"미정\";\n    return new Date(dateString).toLocaleDateString(\"ko-KR\");\n  };\n\n  const getStatusBadge = (study) => {\n    if (study?.isClosed) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\n          모집 완료\n        </span>\n      );\n    }\n    if (study?.currentNumber >= study?.recruitNumber) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\">\n          인원 마감\n        </span>\n      );\n    }\n    return (\n      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n        모집 중\n      </span>\n    );\n  };\n\n  const getApplicationStatusBadge = (application) => {\n    if (application.isAccepted) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n          수락됨\n        </span>\n      );\n    }\n    return (\n      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\">\n        대기중\n      </span>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"flex justify-center\">\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"text-center\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">\n              오류가 발생했습니다\n            </h2>\n            <p className=\"text-gray-600 mb-4\">{error}</p>\n            <button\n              onClick={() => navigate(\"/my-studies\")}\n              className=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\"\n            >\n              돌아가기\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n      <div className=\"px-4 py-6 sm:px-0\">\n        {/* 헤더 */}\n        <div className=\"flex items-center justify-between mb-8\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900\">\n              {study?.title || \"스터디 상세정보\"}\n            </h1>\n            <p className=\"text-gray-600 mt-2\">내가 만든 스터디 관리</p>\n          </div>\n          <div className=\"flex space-x-3\">\n            <button\n              onClick={() => navigate(`/studies/${id}/edit`)}\n              className=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700\"\n            >\n              수정\n            </button>\n            <button\n              onClick={() => navigate(\"/my-studies\")}\n              className=\"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700\"\n            >\n              목록으로\n            </button>\n          </div>\n        </div>\n\n        {/* 탭 네비게이션 */}\n        <div className=\"border-b border-gray-200 mb-6\">\n          <nav className=\"-mb-px flex space-x-8\">\n            <button\n              onClick={() => setActiveTab('info')}\n              className={`py-2 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'info'\n                  ? 'border-indigo-500 text-indigo-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              스터디 정보\n            </button>\n            <button\n              onClick={() => setActiveTab('applications')}\n              className={`py-2 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'applications'\n                  ? 'border-indigo-500 text-indigo-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              지원자 내역 ({applications?.data?.data?.length || 0})\n            </button>\n          </nav>\n        </div>\n\n        {/* 탭 컨텐츠 */}\n        {activeTab === 'info' && (\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">기본 정보</h3>\n                <div className=\"space-y-3\">\n                  <div>\n                    <span className=\"font-medium text-gray-700\">제목:</span>\n                    <p className=\"text-gray-900\">{study?.title}</p>\n                  </div>\n                  <div>\n                    <span className=\"font-medium text-gray-700\">설명:</span>\n                    <p className=\"text-gray-900\">{study?.description}</p>\n                  </div>\n                  <div>\n                    <span className=\"font-medium text-gray-700\">분류:</span>\n                    <span className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm\">\n                      {study?.category}\n                    </span>\n                  </div>\n                  <div>\n                    <span className=\"font-medium text-gray-700\">모드:</span>\n                    <span className=\"bg-green-100 text-green-800 px-2 py-1 rounded text-sm\">\n                      {study?.mode}\n                    </span>\n                  </div>\n                  {study?.location && (\n                    <div>\n                      <span className=\"font-medium text-gray-700\">위치:</span>\n                      <p className=\"text-gray-900\">{study?.location}</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">상태 정보</h3>\n                <div className=\"space-y-3\">\n                  <div>\n                    <span className=\"font-medium text-gray-700\">상태:</span>\n                    <div className=\"mt-1\">{getStatusBadge(study)}</div>\n                  </div>\n                  <div>\n                    <span className=\"font-medium text-gray-700\">인원:</span>\n                    <p className=\"text-gray-900\">\n                      {study?.currentNumber || 1}/{study?.recruitNumber}명\n                    </p>\n                  </div>\n                  <div>\n                    <span className=\"font-medium text-gray-700\">작성일:</span>\n                    <p className=\"text-gray-900\">{formatDate(study?.createdAt)}</p>\n                  </div>\n                  <div>\n                    <span className=\"font-medium text-gray-700\">스터디 상태:</span>\n                    <span className=\"bg-purple-100 text-purple-800 px-2 py-1 rounded text-sm\">\n                      {study?.studyStatus}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'applications' && (\n          <div className=\"bg-white rounded-lg shadow-md\">\n            {!Array.isArray(applications?.data?.data) || applications?.data?.data?.length === 0 ? (\n              <div className=\"p-8 text-center\">\n                <div className=\"text-6xl mb-4\">📝</div>\n                <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n                  아직 지원자가 없습니다\n                </h2>\n                <p className=\"text-gray-600\">스터디에 지원한 사람이 없습니다.</p>\n              </div>\n            ) : (\n              <div className=\"divide-y divide-gray-200\">\n                {applications.data.data.map((application) => (\n                  <div key={application.id} className=\"p-6\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <div className=\"flex items-center space-x-3\">\n                        <div className=\"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center\">\n                          <span className=\"text-indigo-600 font-semibold\">\n                            {application.applicant?.username?.charAt(0).toUpperCase()}\n                          </span>\n                        </div>\n                        <div>\n                          <h3 className=\"text-lg font-semibold text-gray-900\">\n                            {application.applicant?.username}\n                          </h3>\n                          <p className=\"text-sm text-gray-500\">\n                            지원일: {formatDate(application.createdAt)}\n                          </p>\n                        </div>\n                      </div>\n                      {getApplicationStatusBadge(application)}\n                    </div>\n                    \n                    {/* Request Form 답변 */}\n                    {application.answers && Object.keys(application.answers).length > 0 && (\n                      <div className=\"bg-gray-50 rounded-lg p-4\">\n                        <h4 className=\"font-medium text-gray-900 mb-3\">지원서 답변</h4>\n                        <div className=\"space-y-3\">\n                          {Object.entries(application.answers).map(([question, answer], index) => (\n                            <div key={index} className=\"border-l-4 border-indigo-200 pl-4\">\n                              <p className=\"text-sm font-medium text-gray-700 mb-1\">\n                                {question}\n                              </p>\n                              <p className=\"text-sm text-gray-900 bg-white p-2 rounded border\">\n                                {answer}\n                              </p>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst MyStudies = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [studies, setStudies] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fetchMyStudies = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem(\"token\");\n\n      const response = await fetch(\n        \"http://localhost:3001/api/post/user/my-studies\",\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        },\n      );\n\n      if (response.ok) {\n        const data = await response.json();\n        setStudies(data);\n      } else {\n        setError(\"스터디 목록을 불러오는데 실패했습니다.\");\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch my studies:\", error);\n      setError(\"스터디 목록을 불러오는 중 오류가 발생했습니다.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (user) {\n      fetchMyStudies();\n    }\n  }, [user]);\n\n  // user가 null인 경우 로딩 상태 표시\n  if (!user) {\n    return (\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-center\">\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const formatDate = (dateString) => {\n    if (!dateString) return \"미정\";\n    return new Date(dateString).toLocaleDateString(\"ko-KR\");\n  };\n\n  const getStatusBadge = (study) => {\n    if (study?.isClosed) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\n          모집 완료\n        </span>\n      );\n    }\n    if (study?.currentNumber >= study?.recruitNumber) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\">\n          인원 마감\n        </span>\n      );\n    }\n    return (\n      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n        모집 중\n      </span>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"flex justify-center\">\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"text-center\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">\n              오류가 발생했습니다\n            </h2>\n            <p className=\"text-gray-600 mb-4\">{error}</p>\n            <button\n              onClick={fetchMyStudies}\n              className=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\"\n            >\n              다시 시도\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n      <div className=\"px-4 py-6 sm:px-0\">\n        <div className=\"flex items-center justify-between mb-8\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900\">\n              내가 만든 스터디\n            </h1>\n            <p className=\"text-gray-600 mt-2\">\n              총{\" \"}\n              {Array.isArray(studies?.data?.data)\n                ? studies.data.data.length\n                : 0}\n              개의 스터디\n            </p>\n          </div>\n          <button\n            onClick={() => navigate(\"/create-study\")}\n            className=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\"\n          >\n            새 스터디 만들기\n          </button>\n        </div>\n\n        {!Array.isArray(studies?.data?.data) ||\n        studies?.data?.data?.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <div className=\"text-6xl mb-4\">👑</div>\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n              아직 만든 스터디가 없습니다\n            </h2>\n            <p className=\"text-gray-600 mb-6\">첫 번째 스터디를 만들어보세요!</p>\n            <button\n              onClick={() => navigate(\"/create-study\")}\n              className=\"bg-indigo-600 text-white px-6 py-3 rounded-md hover:bg-indigo-700\"\n            >\n              스터디 만들기\n            </button>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {Array.isArray(studies?.data?.data) &&\n              studies.data.data.map((study) => (\n                <div\n                  key={study.id}\n                  className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow cursor-pointer\"\n                  onClick={() => navigate(`/studies/${study.id}`)}\n                >\n                  <div className=\"p-6\">\n                    <div className=\"flex justify-between items-start mb-4\">\n                      <h3 className=\"text-xl font-semibold text-gray-900 line-clamp-2\">\n                        {study.title}\n                      </h3>\n                      {getStatusBadge(study)}\n                    </div>\n\n                    <p className=\"text-gray-600 text-sm mb-4 line-clamp-3\">\n                      {study.description}\n                    </p>\n\n                    <div className=\"space-y-2 mb-4\">\n                      <div className=\"flex items-center text-sm text-gray-500\">\n                        <span className=\"font-medium mr-2\">분류:</span>\n                        <span className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs\">\n                          {study.category}\n                        </span>\n                      </div>\n                      <div className=\"flex items-center text-sm text-gray-500\">\n                        <span className=\"font-medium mr-2\">모드:</span>\n                        <span className=\"bg-green-100 text-green-800 px-2 py-1 rounded text-xs\">\n                          {study.mode}\n                        </span>\n                      </div>\n                      {study.location && (\n                        <div className=\"flex items-center text-sm text-gray-500\">\n                          <span className=\"font-medium mr-2\">위치:</span>\n                          <span>{study.location}</span>\n                        </div>\n                      )}\n                      <div className=\"flex items-center text-sm text-gray-500\">\n                        <span className=\"font-medium mr-2\">인원:</span>\n                        <span>\n                          {study.currentNumber || 1}/{study.recruitNumber}명\n                        </span>\n                      </div>\n                      <div className=\"flex items-center text-sm text-gray-500\">\n                        <span className=\"font-medium mr-2\">작성일:</span>\n                        <span>{formatDate(study.createdAt)}</span>\n                      </div>\n                    </div>\n\n                    <div className=\"flex space-x-2\">\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          navigate(`/studies/${study.id}`);\n                        }}\n                        className=\"flex-1 bg-indigo-600 text-white px-3 py-2 rounded-md hover:bg-indigo-700 text-sm\"\n                      >\n                        상세보기\n                      </button>\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          navigate(`/studies/${study.id}/edit`);\n                        }}\n                        className=\"flex-1 bg-green-600 text-white px-3 py-2 rounded-md hover:bg-green-700 text-sm\"\n                      >\n                        수정\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst StudyDetail = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const { id } = useParams();\n  const [study, setStudy] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [sessions, setSessions] = useState([]);\n  const [members, setMembers] = useState([]);\n  const [activeTab, setActiveTab] = useState(\"info\");\n  const [showApplicationForm, setShowApplicationForm] = useState(false);\n\n  console.log(\"=== StudyDetail Component ===\");\n  console.log(\"URL ID from useParams:\", id);\n  console.log(\"URL ID type:\", typeof id);\n  console.log(\"Current URL:\", window.location.href);\n\n  useEffect(() => {\n    if (id) {\n      fetchStudyDetail();\n      fetchStudySessions();\n      fetchStudyMembers();\n    }\n  }, [id]);\n\n  const fetchStudyDetail = async () => {\n    try {\n      setLoading(true);\n      console.log(\"Fetching study detail for ID:\", id);\n      console.log(\"Fetching study detail for ID type:\", typeof id);\n      console.log(\"API URL:\", `http://localhost:3001/api/post/${id}/detail`);\n      const token = localStorage.getItem(\"token\");\n      console.log(\"Token for study detail:\", token);\n\n      const response = await fetch(\n        `http://localhost:3001/api/post/${id}/detail`,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        },\n      );\n\n      console.log(\"Study detail response status:\", response.status);\n\n      if (response.ok) {\n        const data = await response.json();\n        console.log(\"Study detail data:\", data);\n        console.log(\"Study ID from response:\", data.data?.id || data.id);\n        console.log(\n          \"Study title from response:\",\n          data.data?.title || data.title,\n        );\n        console.log(\n          \"Study applicationFormTemplate:\",\n          data.data?.applicationFormTemplate || data.applicationFormTemplate,\n        );\n        console.log(\n          \"Study applicationFormTemplate length:\",\n          (data.data?.applicationFormTemplate || data.applicationFormTemplate)\n            ?.length,\n        );\n        setStudy(data.data || data);\n      } else {\n        const errorData = await response.json();\n        console.error(\"Study detail error response:\", errorData);\n        setError(\"스터디 정보를 불러오는데 실패했습니다.\");\n      }\n    } catch (error) {\n      console.error(\"Fetch study detail error:\", error);\n      setError(\"스터디 정보를 불러오는 중 오류가 발생했습니다.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchStudySessions = async () => {\n    try {\n      const response = await fetch(\n        `http://localhost:3001/api/post/${id}/sessions`,\n        {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        },\n      );\n\n      if (response.ok) {\n        const data = await response.json();\n        setSessions(data.data || data || []);\n      }\n    } catch (error) {\n      console.error(\"Fetch sessions error:\", error);\n    }\n  };\n\n  const fetchStudyMembers = async () => {\n    try {\n      const response = await fetch(`http://localhost:3001/api/post/${id}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setMembers(data.data?.studymemberships || data.studymemberships || []);\n      }\n    } catch (error) {\n      console.error(\"Fetch members error:\", error);\n    }\n  };\n\n  const handleShowApplicationForm = () => {\n    console.log(\"handleShowApplicationForm called\");\n    console.log(\n      \"study.applicationFormTemplate:\",\n      study.applicationFormTemplate,\n    );\n    console.log(\n      \"study.applicationFormTemplate length:\",\n      study.applicationFormTemplate?.length,\n    );\n\n    // 폼이 있으면 모달을 띄우고, 없으면 바로 지원\n    if (\n      study.applicationFormTemplate &&\n      study.applicationFormTemplate.length > 0\n    ) {\n      console.log(\"Opening application form modal\");\n      setShowApplicationForm(true);\n    } else {\n      console.log(\"No form required, joining directly\");\n      handleJoinStudy({}); // Send empty object for direct join\n    }\n  };\n\n  const handleJoinStudy = async (answers = {}) => {\n    console.log(\"=== handleJoinStudy called ===\");\n    console.log(\"Call stack:\", new Error().stack);\n    console.log(\"Submitting answers:\", answers);\n    console.log(\"Answers type:\", typeof answers);\n    console.log(\"Answers keys:\", Object.keys(answers));\n    console.log(\"Answers length:\", Object.keys(answers).length);\n    console.log(\"Answers is empty:\", Object.keys(answers).length === 0);\n    console.log(\"=== END handleJoinStudy ===\");\n\n    try {\n      const response = await fetch(\n        `http://localhost:3001/api/post/${id}/join`,\n        {\n          method: \"POST\",\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({ answers }),\n        },\n      );\n\n      if (response.ok) {\n        toast.success(\"스터디에 참여 신청되었습니다!\");\n        setShowApplicationForm(false);\n        fetchStudyDetail();\n        fetchStudyMembers();\n      } else {\n        const data = await response.json();\n        toast.error(data.message || \"스터디 참여 신청에 실패했습니다.\");\n      }\n    } catch (error) {\n      console.error(\"Join study error:\", error);\n      toast.error(\"스터디 참여 신청 중 오류가 발생했습니다.\");\n    }\n  };\n\n  const handleLeaveStudy = async () => {\n    try {\n      const response = await fetch(\n        `http://localhost:3001/api/post/${id}/leave`,\n        {\n          method: \"DELETE\",\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        },\n      );\n\n      if (response.ok) {\n        toast.success(\"스터디에서 탈퇴했습니다.\");\n        fetchStudyDetail();\n        fetchStudyMembers();\n      } else {\n        const data = await response.json();\n        toast.error(data.message || \"스터디 탈퇴에 실패했습니다.\");\n      }\n    } catch (error) {\n      console.error(\"Leave study error:\", error);\n      toast.error(\"스터디 탈퇴 중 오류가 발생했습니다.\");\n    }\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return \"미정\";\n    return new Date(dateString).toLocaleDateString(\"ko-KR\");\n  };\n\n  const formatDateTime = (dateString) => {\n    if (!dateString) return \"미정\";\n    return new Date(dateString).toLocaleString(\"ko-KR\");\n  };\n\n  const getStatusBadge = (study) => {\n    if (study?.isClosed) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\n          모집 완료\n        </span>\n      );\n    }\n    if (study?.currentNumber >= study?.recruitNumber) {\n      return (\n        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\">\n          인원 마감\n        </span>\n      );\n    }\n    return (\n      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n        모집 중\n      </span>\n    );\n  };\n\n  const isAuthor = study?.author?.id === user?.id;\n  const isMember = members.some((member) => member.user?.id === user?.id);\n\n  if (loading) {\n    return (\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"flex justify-center\">\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !study) {\n    return (\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"text-center\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">\n              오류가 발생했습니다\n            </h2>\n            <p className=\"text-gray-600 mb-4\">\n              {error || \"스터디를 찾을 수 없습니다.\"}\n            </p>\n            <button\n              onClick={() => navigate(\"/studies\")}\n              className=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\"\n            >\n              스터디 목록으로 돌아가기\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n      <div className=\"px-4 py-6 sm:px-0\">\n        {/* 헤더 */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <button\n              onClick={() => navigate(\"/studies\")}\n              className=\"text-indigo-600 hover:text-indigo-800 font-medium\"\n            >\n              ← 스터디 목록으로 돌아가기\n            </button>\n            <div className=\"flex space-x-2\">\n              {isAuthor && (\n                <button\n                  onClick={() => navigate(`/studies/${id}/edit`)}\n                  className=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\"\n                >\n                  수정\n                </button>\n              )}\n              {!isAuthor &&\n                !isMember &&\n                !study.isClosed &&\n                study.currentNumber < study.recruitNumber && (\n                  <button\n                    onClick={() => {\n                      console.log(\"참여신청 버튼 클릭됨\");\n                      handleShowApplicationForm();\n                    }}\n                    className=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700\"\n                  >\n                    참여신청\n                  </button>\n                )}\n              {!isAuthor && isMember && (\n                <button\n                  onClick={handleLeaveStudy}\n                  className=\"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700\"\n                >\n                  탈퇴\n                </button>\n              )}\n            </div>\n          </div>\n\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <div className=\"flex justify-between items-start mb-4\">\n              <h1 className=\"text-3xl font-bold text-gray-900\">\n                {study.title}\n              </h1>\n              {getStatusBadge(study)}\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\n              <div className=\"flex items-center text-sm text-gray-500\">\n                <span className=\"font-medium mr-2\">분류:</span>\n                <span className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs\">\n                  {study.category}\n                </span>\n              </div>\n              <div className=\"flex items-center text-sm text-gray-500\">\n                <span className=\"font-medium mr-2\">모드:</span>\n                <span className=\"bg-green-100 text-green-800 px-2 py-1 rounded text-xs\">\n                  {study.mode}\n                </span>\n              </div>\n              {study.location && (\n                <div className=\"flex items-center text-sm text-gray-500\">\n                  <span className=\"font-medium mr-2\">위치:</span>\n                  <span>{study.location}</span>\n                </div>\n              )}\n              <div className=\"flex items-center text-sm text-gray-500\">\n                <span className=\"font-medium mr-2\">인원:</span>\n                <span>\n                  {study.currentNumber || 1}/{study.recruitNumber}명\n                </span>\n              </div>\n              <div className=\"flex items-center text-sm text-gray-500\">\n                <span className=\"font-medium mr-2\">작성자:</span>\n                <span>{study.author?.username || \"알 수 없음\"}</span>\n              </div>\n              <div className=\"flex items-center text-sm text-gray-500\">\n                <span className=\"font-medium mr-2\">작성일:</span>\n                <span>{formatDate(study.createdAt)}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* 탭 네비게이션 */}\n        <div className=\"bg-white rounded-lg shadow-md mb-6\">\n          <div className=\"border-b border-gray-200\">\n            <nav className=\"-mb-px flex space-x-8 px-6\">\n              <button\n                onClick={() => setActiveTab(\"info\")}\n                className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                  activeTab === \"info\"\n                    ? \"border-indigo-500 text-indigo-600\"\n                    : \"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300\"\n                }`}\n              >\n                스터디 정보\n              </button>\n              <button\n                onClick={() => setActiveTab(\"sessions\")}\n                className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                  activeTab === \"sessions\"\n                    ? \"border-indigo-500 text-indigo-600\"\n                    : \"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300\"\n                }`}\n              >\n                스터디 세션 ({sessions.length})\n              </button>\n              <button\n                onClick={() => setActiveTab(\"members\")}\n                className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                  activeTab === \"members\"\n                    ? \"border-indigo-500 text-indigo-600\"\n                    : \"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300\"\n                }`}\n              >\n                멤버 ({members.length})\n              </button>\n            </nav>\n          </div>\n\n          <div className=\"p-6\">\n            {/* 스터디 정보 탭 */}\n            {activeTab === \"info\" && (\n              <div>\n                <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n                  스터디 설명\n                </h3>\n                <div className=\"prose max-w-none\">\n                  <p className=\"text-gray-700 whitespace-pre-wrap\">\n                    {study.description}\n                  </p>\n                </div>\n\n                {(study.studyStartDate || study.studyEndDate) && (\n                  <div className=\"mt-6\">\n                    <h4 className=\"text-md font-medium text-gray-900 mb-2\">\n                      스터디 기간\n                    </h4>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                      {study.studyStartDate && (\n                        <div>\n                          <span className=\"text-sm font-medium text-gray-500\">\n                            시작일:\n                          </span>\n                          <span className=\"ml-2 text-sm text-gray-900\">\n                            {formatDate(study.studyStartDate)}\n                          </span>\n                        </div>\n                      )}\n                      {study.studyEndDate && (\n                        <div>\n                          <span className=\"text-sm font-medium text-gray-500\">\n                            종료일:\n                          </span>\n                          <span className=\"ml-2 text-sm text-gray-900\">\n                            {formatDate(study.studyEndDate)}\n                          </span>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* 스터디 세션 탭 */}\n            {activeTab === \"sessions\" && (\n              <div>\n                <div className=\"flex justify-between items-center mb-4\">\n                  <h3 className=\"text-lg font-medium text-gray-900\">\n                    스터디 세션\n                  </h3>\n                  {isAuthor && (\n                    <button\n                      onClick={() => navigate(`/studies/${id}/sessions/create`)}\n                      className=\"bg-indigo-600 text-white px-3 py-1 rounded-md hover:bg-indigo-700 text-sm\"\n                    >\n                      세션 추가\n                    </button>\n                  )}\n                </div>\n\n                {sessions.length === 0 ? (\n                  <p className=\"text-gray-500\">\n                    등록된 스터디 세션이 없습니다.\n                  </p>\n                ) : (\n                  <div className=\"space-y-4\">\n                    {sessions.map((session) => (\n                      <div\n                        key={session.id}\n                        className=\"border border-gray-200 rounded-lg p-4\"\n                      >\n                        <div className=\"flex justify-between items-start\">\n                          <div>\n                            <h4 className=\"font-medium text-gray-900\">\n                              {session.title || `${session.sessionNumber}회차`}\n                            </h4>\n                            {session.description && (\n                              <p className=\"text-sm text-gray-600 mt-1\">\n                                {session.description}\n                              </p>\n                            )}\n                            <div className=\"mt-2 text-sm text-gray-500\">\n                              <span>\n                                일시: {formatDateTime(session.scheduledDate)}\n                              </span>\n                            </div>\n                          </div>\n                          <span\n                            className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                              session.status === \"SCHEDULED\"\n                                ? \"bg-blue-100 text-blue-800\"\n                                : session.status === \"IN_PROGRESS\"\n                                  ? \"bg-green-100 text-green-800\"\n                                  : \"bg-gray-100 text-gray-800\"\n                            }`}\n                          >\n                            {session.status === \"SCHEDULED\"\n                              ? \"예정\"\n                              : session.status === \"IN_PROGRESS\"\n                                ? \"진행중\"\n                                : \"완료\"}\n                          </span>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* 멤버 탭 */}\n            {activeTab === \"members\" && (\n              <div>\n                <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n                  스터디 멤버\n                </h3>\n\n                {members.length === 0 ? (\n                  <p className=\"text-gray-500\">등록된 멤버가 없습니다.</p>\n                ) : (\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                    {members.map((member) => (\n                      <div\n                        key={member.id}\n                        className=\"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg\"\n                      >\n                        <div className=\"h-10 w-10 bg-indigo-600 rounded-full flex items-center justify-center\">\n                          <span className=\"text-white text-sm font-medium\">\n                            {member.user?.username?.charAt(0).toUpperCase()}\n                          </span>\n                        </div>\n                        <div>\n                          <p className=\"text-sm font-medium text-gray-900\">\n                            {member.user?.username}\n                          </p>\n                          <p className=\"text-xs text-gray-500\">\n                            {member.user?.email}\n                          </p>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* ApplicationForm 모달 */}\n      {showApplicationForm && study?.applicationFormTemplate && (\n        <div>\n          {console.log(\"Rendering ApplicationForm modal\")}\n          {console.log(\"showApplicationForm:\", showApplicationForm)}\n          {console.log(\n            \"study.applicationFormTemplate:\",\n            study.applicationFormTemplate,\n          )}\n          <ApplicationForm\n            questions={study.applicationFormTemplate}\n            onSubmit={handleJoinStudy}\n            onCancel={() => setShowApplicationForm(false)}\n            loading={false}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst ProtectedRoute = ({ children }) => {\n  const { user, loading } = useAuth();\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"></div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  return <>{children}</>;\n};\n\nconst Layout = ({ children }) => {\n  const { user } = useAuth();\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {user && <Header />}\n      <main>{children}</main>\n    </div>\n  );\n};\n\nconst App = () => {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <Router>\n        <AuthProvider>\n          <Layout>\n            <Routes>\n              <Route\n                path=\"/\"\n                element={\n                  <ProtectedRoute>\n                    <Home />\n                  </ProtectedRoute>\n                }\n              />\n              <Route path=\"/login\" element={<LoginForm />} />\n              <Route path=\"/register\" element={<RegisterForm />} />\n              <Route\n                path=\"/me\"\n                element={\n                  <ProtectedRoute>\n                    <UserProfile />\n                  </ProtectedRoute>\n                }\n              />\n              <Route\n                path=\"/studies\"\n                element={\n                  <ProtectedRoute>\n                    <StudyList />\n                  </ProtectedRoute>\n                }\n              />\n              <Route\n                path=\"/studies/:id\"\n                element={\n                  <ProtectedRoute>\n                    <StudyDetail />\n                  </ProtectedRoute>\n                }\n              />\n              <Route\n                path=\"/studies/:id/applicants\"\n                element={\n                  <ProtectedRoute>\n                    <StudyApplicants />\n                  </ProtectedRoute>\n                }\n              />\n              <Route\n                path=\"/my-studies\"\n                element={\n                  <ProtectedRoute>\n                    <MyStudies />\n                  </ProtectedRoute>\n                }\n              />\n              <Route\n                path=\"/my-applications\"\n                element={\n                  <ProtectedRoute>\n                    <MyApplications />\n                  </ProtectedRoute>\n                }\n              />\n              <Route\n                path=\"/my-memberships\"\n                element={\n                  <ProtectedRoute>\n                    <MyMemberships />\n                  </ProtectedRoute>\n                }\n              />\n              <Route\n                path=\"/my-member-studies\"\n                element={\n                  <ProtectedRoute>\n                    <MyMemberStudies />\n                  </ProtectedRoute>\n                }\n              />\n              <Route\n                path=\"/my-leader-studies\"\n                element={\n                  <ProtectedRoute>\n                    <MyLeaderStudies />\n                  </ProtectedRoute>\n                }\n              />\n              <Route\n                path=\"/create-study\"\n                element={\n                  <ProtectedRoute>\n                    <CreateStudy />\n                  </ProtectedRoute>\n                }\n              />\n              <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n            </Routes>\n          </Layout>\n          <Toaster position=\"top-right\" />\n        </AuthProvider>\n      </Router>\n    </QueryClientProvider>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}