{"ast":null,"code":"import { initializeApp } from 'firebase/app';\nimport { getMessaging, getToken, onMessage } from 'firebase/messaging';\n\n// Firebase 설정 (fcm-test에서 가져온 실제 설정)\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBcqmBEjV-E2TM3XaD_aBkuDy8dZc_Gchs\",\n  authDomain: \"studygroup-18669.firebaseapp.com\",\n  projectId: \"studygroup-18669\",\n  storageBucket: \"studygroup-18669.firebasestorage.app\",\n  messagingSenderId: \"836962136417\",\n  appId: \"1:836962136417:web:bcf35deffe43a507245520\"\n};\n\n// Firebase 앱 초기화\nconst app = initializeApp(firebaseConfig);\n\n// Firebase Cloud Messaging 초기화\nexport const messaging = getMessaging(app);\n\n// FCM 토큰 가져오기 (fcm-test 방식 - VAPID 키 없이)\nexport const getFCMToken = async () => {\n  try {\n    const token = await getToken(messaging, {\n      vapidKey: undefined,\n      // VAPID 키 없이도 작동\n      serviceWorkerRegistration: await navigator.serviceWorker.getRegistration()\n    });\n    return token;\n  } catch (error) {\n    console.error('FCM 토큰 가져오기 실패:', error);\n    return null;\n  }\n};\n\n// 포그라운드 메시지 처리\nexport const onForegroundMessage = callback => {\n  return onMessage(messaging, callback);\n};\nexport default app;","map":{"version":3,"names":["initializeApp","getMessaging","getToken","onMessage","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","messaging","getFCMToken","token","vapidKey","undefined","serviceWorkerRegistration","navigator","serviceWorker","getRegistration","error","console","onForegroundMessage","callback"],"sources":["C:/Users/User/WebstormProjects/project3/studygroup-frontend/src/firebase.ts"],"sourcesContent":["import { initializeApp } from 'firebase/app';\r\nimport { getMessaging, getToken, onMessage } from 'firebase/messaging';\r\n\r\n// Firebase 설정 (fcm-test에서 가져온 실제 설정)\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBcqmBEjV-E2TM3XaD_aBkuDy8dZc_Gchs\",\r\n  authDomain: \"studygroup-18669.firebaseapp.com\",\r\n  projectId: \"studygroup-18669\",\r\n  storageBucket: \"studygroup-18669.firebasestorage.app\",\r\n  messagingSenderId: \"836962136417\",\r\n  appId: \"1:836962136417:web:bcf35deffe43a507245520\",\r\n};\r\n\r\n// Firebase 앱 초기화\r\nconst app = initializeApp(firebaseConfig);\r\n\r\n// Firebase Cloud Messaging 초기화\r\nexport const messaging = getMessaging(app);\r\n\r\n// FCM 토큰 가져오기 (fcm-test 방식 - VAPID 키 없이)\r\nexport const getFCMToken = async () => {\r\n  try {\r\n    const token = await getToken(messaging, {\r\n      vapidKey: undefined, // VAPID 키 없이도 작동\r\n      serviceWorkerRegistration: await navigator.serviceWorker.getRegistration()\r\n    });\r\n    return token;\r\n  } catch (error) {\r\n    console.error('FCM 토큰 가져오기 실패:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\n// 포그라운드 메시지 처리\r\nexport const onForegroundMessage = (callback: (payload: any) => void) => {\r\n  return onMessage(messaging, callback);\r\n};\r\n\r\nexport default app;\r\n"],"mappings":"AAAA,SAASA,aAAa,QAAQ,cAAc;AAC5C,SAASC,YAAY,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,oBAAoB;;AAEtE;AACA,MAAMC,cAAc,GAAG;EACrBC,MAAM,EAAE,yCAAyC;EACjDC,UAAU,EAAE,kCAAkC;EAC9CC,SAAS,EAAE,kBAAkB;EAC7BC,aAAa,EAAE,sCAAsC;EACrDC,iBAAiB,EAAE,cAAc;EACjCC,KAAK,EAAE;AACT,CAAC;;AAED;AACA,MAAMC,GAAG,GAAGX,aAAa,CAACI,cAAc,CAAC;;AAEzC;AACA,OAAO,MAAMQ,SAAS,GAAGX,YAAY,CAACU,GAAG,CAAC;;AAE1C;AACA,OAAO,MAAME,WAAW,GAAG,MAAAA,CAAA,KAAY;EACrC,IAAI;IACF,MAAMC,KAAK,GAAG,MAAMZ,QAAQ,CAACU,SAAS,EAAE;MACtCG,QAAQ,EAAEC,SAAS;MAAE;MACrBC,yBAAyB,EAAE,MAAMC,SAAS,CAACC,aAAa,CAACC,eAAe,CAAC;IAC3E,CAAC,CAAC;IACF,OAAON,KAAK;EACd,CAAC,CAAC,OAAOO,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;IACvC,OAAO,IAAI;EACb;AACF,CAAC;;AAED;AACA,OAAO,MAAME,mBAAmB,GAAIC,QAAgC,IAAK;EACvE,OAAOrB,SAAS,CAACS,SAAS,EAAEY,QAAQ,CAAC;AACvC,CAAC;AAED,eAAeb,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}